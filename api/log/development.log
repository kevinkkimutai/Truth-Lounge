  [1m[35m (128.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (183.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (204.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-09-16 11:18:13.144737"], ["updated_at", "2023-09-16 11:18:13.144737"]]
  [1m[36mTRANSACTION (159.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/register" for 127.0.0.1 at 2023-09-16 14:27:13 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:2:in `<class:User>'
app/models/user.rb:1:in `<main>'
Started POST "/users/register" for 127.0.0.1 at 2023-09-16 14:28:53 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "user"=>{"name"=>"Kelvin", "email"=>"kim@g.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007fbc0ca624b0>, params: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"name"=>"Kelvin", "email"=>"kim@g.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kelvin"], ["email", "kim@g.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-16 11:28:53.637816"], ["updated_at", "2023-09-16 11:28:53.637816"]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (156.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 201 Created in 572ms (Views: 1.0ms | ActiveRecord: 157.6ms | Allocations: 41473)


Started POST "/users/login" for 127.0.0.1 at 2023-09-16 14:29:25 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "authentication"=>{"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 325ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 941)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-16 14:30:53 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "user"=>{"name"=>"Kelvin", "email"=>"kim@g.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `reset_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:18:in `reset_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "kim@g.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:18:in `reset_password'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-16 11:30:53.921273"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:18:in `reset_password'
  [1m[36mTRANSACTION (111.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:18:in `reset_password'
Completed 200 OK in 128ms (Views: 0.5ms | ActiveRecord: 113.1ms | Allocations: 2991)


Started PUT "/update_password/B3bWza_nf3uvBtJRXotWYA" for 127.0.0.1 at 2023-09-16 14:32:30 +0300
Processing by UsersController#update_password as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"name"=>"Kelvin", "email"=>"kim@g.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:26:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:28:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "kim@g.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:28:in `update_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-16 11:32:30.738578"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:28:in `update_password'
  [1m[36mTRANSACTION (159.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:28:in `update_password'
Completed 200 OK in 507ms (Views: 0.3ms | ActiveRecord: 160.1ms | Allocations: 3176)


Started POST "/users/login" for 127.0.0.1 at 2023-09-16 14:34:35 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "authentication"=>{"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 321ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 744)


Started POST "/users/login" for 127.0.0.1 at 2023-09-16 14:34:44 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "authentication"=>{"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 339ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 560)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (116.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (109.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 11:59:50 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AuthenticationController#login as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "authentication"=>{"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 52ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 22335)


Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:00:01 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
....permit(:firstname, :lastname :email, :password, :password_c...
...                              ^
/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
...e, :lastname :email, :password, :password_confirmation)
...                              ^
):
  
app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:02:27 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
....permit(:firstname, :lastname :email, :password, :password_c...
...                              ^
/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
...e, :lastname :email, :password, :password_confirmation)
...                              ^
):
  
app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:02:56 +0300
Processing by UsersController#create as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007f2b10c29c90>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["email", "kim@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 09:02:56.789318"], ["updated_at", "2023-09-18 09:02:56.789318"]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (159.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 201 Created in 531ms (Views: 0.5ms | ActiveRecord: 161.6ms | Allocations: 20269)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 12:03:22 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 325ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 943)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 12:05:25 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/authentication_controller.rb:7: syntax error, unexpected local variable or method, expecting '}'
...  render json: {message: ""user.firstname" loggedin successf...
...                           ^~~~
/home/kevin/proj/Truth-Lounge/api/app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
...lly",user: user, token: token }
...                              ^
):
  
app/controllers/authentication_controller.rb:7: syntax error, unexpected local variable or method, expecting '}'
app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
app/controllers/authentication_controller.rb:7: syntax error, unexpected local variable or method, expecting '}'
app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 12:06:20 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/authentication_controller.rb:7: syntax error, unexpected tLABEL_END, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
...     render json: {message: "":user user.firstname" loggedin...
...                             ^~
/home/kevin/proj/Truth-Lounge/api/app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
...lly",user: user, token: token }
...                              ^
):
  
app/controllers/authentication_controller.rb:7: syntax error, unexpected tLABEL_END, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
app/controllers/authentication_controller.rb:7: syntax error, unexpected tLABEL_END, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 12:14:06 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 342ms (Views: 0.6ms | ActiveRecord: 1.4ms | Allocations: 4071)


Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:14:44 +0300
Processing by UsersController#create as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.trut.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.trut.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007f2b00628590>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.trut.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.trut.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.trut.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 3619ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1296840)


Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:14:55 +0300
Processing by UsersController#create as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007f2af8079430>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 346ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2371)


Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:15:12 +0300
Processing by UsersController#create as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007f2ae4279050>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["email", "kirui@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 09:15:12.644103"], ["updated_at", "2023-09-18 09:15:12.644103"]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (136.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 201 Created in 468ms (Views: 0.4ms | ActiveRecord: 137.4ms | Allocations: 2818)


Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:16:44 +0300
Processing by UsersController#create as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007f2ae4146b60>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["email", "kirui@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 09:16:45.116774"], ["updated_at", "2023-09-18 09:16:45.116774"]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (99.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 201 Created in 434ms (Views: 0.5ms | ActiveRecord: 101.3ms | Allocations: 5057)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (164.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "role" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (92.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 13:10:20 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230918093922_create_ceos.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:93:in `execute_if_updated'
activerecord (7.0.8) lib/active_record/migration.rb:634:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/ceo" for 127.0.0.1 at 2023-09-18 13:10:36 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230918093922_create_ceos.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/ceo" for 127.0.0.1 at 2023-09-18 13:11:53 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230918093922_create_ceos.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (146.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (385.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (125.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/ceo" for 127.0.0.1 at 2023-09-18 13:12:27 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/ceo"):
  
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:12:49 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 148)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:13:43 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 111)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:14:15 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b03a12978>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 354ms (ActiveRecord: 4.8ms | Allocations: 4609)


  
NoMethodError (undefined method `role=' for #<User:0x00007f2b0387b7e0>):
  
app/controllers/users_controller.rb:7:in `create_ceo'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "ceos"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (1.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (197.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (108.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:17:48 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b02ae91b8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 359ms (ActiveRecord: 0.8ms | Allocations: 4589)


  
NoMethodError (undefined method `role=' for #<User:0x00007f2b0365ca90>):
  
app/controllers/users_controller.rb:7:in `create_ceo'
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:18:11 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b03438138>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 333ms (ActiveRecord: 0.0ms | Allocations: 2666)


  
NoMethodError (undefined method `role=' for #<User:0x00007f2b03427108>):
  
app/controllers/users_controller.rb:7:in `create_ceo'
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:18:36 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b032af280>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 337ms (ActiveRecord: 0.0ms | Allocations: 2669)


  
NoMethodError (undefined method `role=' for #<User:0x00007f2b032a0b18>):
  
app/controllers/users_controller.rb:7:in `create_ceo'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "ceos"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (130.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (101.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "role" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (126.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (104.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:21:14 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b02810090>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
Completed 422 Unprocessable Entity in 438ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 17449)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:21:36 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2ae419b638>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
Completed 422 Unprocessable Entity in 349ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 5031)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:22:07 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :password_confirm, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b0209f720>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
Completed 422 Unprocessable Entity in 360ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2525)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:22:29 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2ae411ed90>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "CEO"], ["email", "kirui@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 10:22:30.288527"], ["updated_at", "2023-09-18 10:22:30.288527"]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mTRANSACTION (161.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
Completed 201 Created in 516ms (Views: 0.6ms | ActiveRecord: 162.0ms | Allocations: 2973)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:22:49 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2ae409b288>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "CEO"], ["email", "kim@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 10:22:49.948806"], ["updated_at", "2023-09-18 10:22:49.948806"]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mTRANSACTION (151.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
Completed 201 Created in 485ms (Views: 0.4ms | ActiveRecord: 151.8ms | Allocations: 2901)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 13:25:12 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 326ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 936)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 13:25:22 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 328ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 754)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 13:26:26 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 137)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 13:26:57 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 111)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 13:27:12 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :password_confirm, :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f2b03cc2970>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
Completed 422 Unprocessable Entity in 346ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 5016)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 13:27:24 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f2b03ae3f78>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "kimm@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 10:27:25.333115"], ["updated_at", "2023-09-18 10:27:25.333115"]]
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
  [1m[36mTRANSACTION (143.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
Completed 201 Created in 478ms (Views: 0.5ms | ActiveRecord: 143.9ms | Allocations: 2967)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:28:12 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f2b03a36c10>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
Completed 422 Unprocessable Entity in 345ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 5073)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:30:29 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimdm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimdm@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f2b03730958>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimdm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimdm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimdm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kimdm@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 10:30:29.824924"], ["updated_at", "2023-09-18 10:30:29.824924"]]
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
  [1m[36mTRANSACTION (99.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
Completed 201 Created in 439ms (Views: 0.5ms | ActiveRecord: 101.7ms | Allocations: 5465)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:33:43 +0300
  
NameError (undefined local variable or method `load_and_authorize_resource' for UsersController:Class):
  
app/controllers/users_controller.rb:3:in `<class:UsersController>'
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:36:18 +0300
  
NameError (undefined local variable or method `load_and_authorize_resource' for UsersController:Class):
  
app/controllers/users_controller.rb:3:in `<class:UsersController>'
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 13:36:42 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 345ms (Views: 1.1ms | ActiveRecord: 1.7ms | Allocations: 7886)


Started POST "/employee" for 127.0.0.1 at 2023-09-18 13:37:20 +0300
  
ActionController::RoutingError (No route matches [POST] "/employee"):
  
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:37:24 +0300
  
NameError (undefined local variable or method `load_and_authorize_resource' for UsersController:Class):
  
app/controllers/users_controller.rb:3:in `<class:UsersController>'
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:38:42 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.1ms | Allocations: 1859)


  
NoMethodError (undefined method `authorize_resource' for #<UsersController:0x00000000045948>
Did you mean?  authorize_request):
  
activesupport (7.0.8) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:39:33 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.5ms | Allocations: 1925)


  
NoMethodError (undefined method `authorize_resource' for #<UsersController:0x00000000008b88>
Did you mean?  authorize_request):
  
activesupport (7.0.8) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:39:41 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
Completed 500 Internal Server Error in 49ms (ActiveRecord: 0.7ms | Allocations: 2232)


  
NameError (undefined local variable or method `current_user' for #<UsersController:0x0000000000c5f8>
Did you mean?  current_ability):
  
cancancan (3.5.0) lib/cancan/controller_additions.rb:354:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:138:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:78:in `load_collection?'
cancancan (3.5.0) lib/cancan/controller_resource_loader.rb:19:in `load_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:33:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:41:27 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.9ms | Allocations: 1905)


  
NoMethodError (undefined method `authenticate_user!' for #<UsersController:0x0000000000fe38>
Did you mean?  authorize_request):
  
activesupport (7.0.8) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:43:56 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 2.0ms | Allocations: 20171)


  
NoMethodError (undefined method `authorize_resource' for #<UsersController:0x00000000013858>
Did you mean?  authorize_request):
  
activesupport (7.0.8) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:44:06 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcc7453d278>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim1m@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kim1m@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 10:44:06.864122"], ["updated_at", "2023-09-18 10:44:06.864122"]]
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mTRANSACTION (111.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
Completed 201 Created in 650ms (Views: 1.1ms | ActiveRecord: 114.6ms | Allocations: 25017)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:45:31 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.1ms | Allocations: 4963)


  
NameError (undefined local variable or method `current_user' for #<UsersController:0x0000000001ab30>
Did you mean?  @current_user
               @current_user_id):
  
cancancan (3.5.0) lib/cancan/controller_additions.rb:354:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:138:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:78:in `load_collection?'
cancancan (3.5.0) lib/cancan/controller_resource_loader.rb:19:in `load_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:33:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:46:36 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.4ms | Allocations: 4987)


  
NameError (undefined local variable or method `current_user' for #<UsersController:0x0000000001e4d8>
Did you mean?  @current_user
               @current_user_id):
  
cancancan (3.5.0) lib/cancan/controller_additions.rb:354:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:138:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:78:in `load_collection?'
cancancan (3.5.0) lib/cancan/controller_resource_loader.rb:19:in `load_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:33:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:46:53 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 2.0ms | Allocations: 4975)


  
NameError (undefined local variable or method `current_user' for #<UsersController:0x00000000021db8>
Did you mean?  @current_user
               @current_user_id):
  
cancancan (3.5.0) lib/cancan/controller_additions.rb:354:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:138:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:78:in `load_collection?'
cancancan (3.5.0) lib/cancan/controller_resource_loader.rb:19:in `load_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:33:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:48:09 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.1ms | Allocations: 2611)


  
NameError (undefined local variable or method `current_user' for #<UsersController:0x00000000021e58>
Did you mean?  @current_user
               @current_user_id):
  
cancancan (3.5.0) lib/cancan/controller_additions.rb:354:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:138:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:78:in `load_collection?'
cancancan (3.5.0) lib/cancan/controller_resource_loader.rb:19:in `load_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:33:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:53:20 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.1ms | Allocations: 4535)


  
NameError (uninitialized constant Ability::Employee):
  
app/models/ability.rb:11:in `initialize'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:55:28 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 662ms (ActiveRecord: 1.3ms | Allocations: 610171)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:57:11 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.3ms | Allocations: 4606)


  
NameError (uninitialized constant Ability::Employee):
  
app/models/ability.rb:11:in `initialize'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (208.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:59:10 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.5ms | Allocations: 3673)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:59:46 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 409ms (ActiveRecord: 0.9ms | Allocations: 625901)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:00:00 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 357ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 19653)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:00:33 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 1193)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:00:36 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1192)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:08:30 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.9ms | Allocations: 5570)


  
NoMethodError (undefined method `Manager?' for #<User:0x00007f787c49d350>
Did you mean?  manager
               manager=):
  
app/models/ability.rb:10:in `initialize'
Started POST "/lusers/login" for 127.0.0.1 at 2023-09-18 14:09:21 +0300
  
ActionController::RoutingError (No route matches [POST] "/lusers/login"):
  
Started POST "/luser/login" for 127.0.0.1 at 2023-09-18 14:09:29 +0300
  
ActionController::RoutingError (No route matches [POST] "/luser/login"):
  
Started POST "/lusers/login" for 127.0.0.1 at 2023-09-18 14:10:01 +0300
  
ActionController::RoutingError (No route matches [POST] "/lusers/login"):
  
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:10:20 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 342ms (Views: 0.6ms | ActiveRecord: 1.8ms | Allocations: 7891)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:10:29 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 326ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 756)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:11:02 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.3ms | Allocations: 2505)


  
NameError (uninitialized constant Ability::Manager):
  
app/models/ability.rb:9:in `initialize'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:21:14 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.9ms | Allocations: 4393)


  
NameError (uninitialized constant Ability::Manager):
  
app/models/ability.rb:9:in `initialize'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:22:06 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.5ms | Allocations: 4541)


  
NameError (uninitialized constant Ability::Manager):
  
app/models/ability.rb:9:in `initialize'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:23:05 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.9ms | Allocations: 3589)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:23:38 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 415ms (ActiveRecord: 1.0ms | Allocations: 625794)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:24:06 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 360ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 19654)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:24:24 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 330ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 771)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:24:59 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimsm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1207)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:25:26 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 326ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 754)


Started POST "/manager" for 127.0.0.1 at 2023-09-18 14:25:47 +0300
  
ActionController::RoutingError (No route matches [POST] "/manager"):
  
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:25:50 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1185)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:33:19 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.6ms | Allocations: 3456)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:33:41 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1208)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:34:41 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.3ms | Allocations: 3581)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:35:16 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1187)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:36:35 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.3ms | Allocations: 3555)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:37:20 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 475ms (ActiveRecord: 1.9ms | Allocations: 625811)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:39:32 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 599ms (ActiveRecord: 0.9ms | Allocations: 625832)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:40:23 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 357ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 19653)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:40:51 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 1210)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:43:15 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 406ms (ActiveRecord: 0.9ms | Allocations: 625791)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:43:45 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 1230)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:44:39 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 336ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 19656)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:45:04 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 1188)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:45:14 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 1187)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:45:32 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 420ms (ActiveRecord: 0.9ms | Allocations: 625803)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:49:21 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.0ms | Allocations: 3614)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:49:47 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 403ms (ActiveRecord: 1.3ms | Allocations: 625816)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:51:20 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 416ms (ActiveRecord: 1.1ms | Allocations: 625791)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:53:17 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 359ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 19653)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:53:49 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 119)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:53:54 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1211)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:55:55 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 429ms (ActiveRecord: 1.4ms | Allocations: 625800)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:57:17 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 417ms (ActiveRecord: 1.2ms | Allocations: 625843)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:00:36 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 402ms (ActiveRecord: 1.1ms | Allocations: 625918)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:08:44 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcf94ba1448>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 729ms (ActiveRecord: 1.0ms | Allocations: 646582)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
app/controllers/users_controller.rb:33:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:10:11 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcfa41d13e0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 347ms (ActiveRecord: 2.4ms | Allocations: 4137)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
app/controllers/users_controller.rb:36:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:13:47 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcf8c0c7160>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
Completed 422 Unprocessable Entity in 343ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 6404)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:13:59 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcf95ebde78>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimmo@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kimmo@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 12:13:59.978545"], ["updated_at", "2023-09-18 12:13:59.978545"]]
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
  [1m[36mTRANSACTION (95.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
Completed 201 Created in 429ms (Views: 0.5ms | ActiveRecord: 96.6ms | Allocations: 4073)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:14:48 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcf95e45338>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimmo2@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kimmo2@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 12:14:48.535819"], ["updated_at", "2023-09-18 12:14:48.535819"]]
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mTRANSACTION (114.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
Completed 201 Created in 461ms (Views: 0.9ms | ActiveRecord: 116.3ms | Allocations: 6669)


Started GET "/show/3" for 127.0.0.1 at 2023-09-18 15:20:43 +0300
  
ActionController::RoutingError (No route matches [GET] "/show/3"):
  
Started GET "/man/3" for 127.0.0.1 at 2023-09-18 15:20:55 +0300
Processing by UsersController#show as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.5ms | Allocations: 4190)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:23:42 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.6ms | Allocations: 4122)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:24:04 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.4ms | Allocations: 3591)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:24:11 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 1262)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:24:28 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 422ms (ActiveRecord: 1.4ms | Allocations: 625709)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 15:25:49 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 346ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 19697)


Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:26:03 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 1263)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/managers/3/employeesStarted%20GET%20%22/managers/3/employees%22%20for%20127.0.0.1%20at%202023-09-18%2015:24:28%20+0300%20ActiveRecord::SchemaMigration%20Pluck%20(0.3ms)%20SELECT%20%22schema_migrations%22.%22version%22%20FROM%20%22schema_migrations%22%20ORDER%20BY%20%22schema_migrations%22.%22version%22%20ASC%20Processing%20by%20UsersController%23employees_by_manager%20as%20*/*%20Parameters:%20%7B%22firstname%22=%3E%22Kelvin%22,%20%22lastname%22=%3E%22kirui%22,%20%22email%22=%3E%22kimmo2@ceo.truth.com%22,%20%22password%22=%3E%22[FILTERED]%22,%20%22password_confirmation%22=%3E%22[FILTERED]%22,%20%22id%22=%3E%223%22,%20%22user%22=%3E%7B%22firstname%22=%3E%22Kelvin%22,%20%22lastname%22=%3E%22kirui%22,%20%22email%22=%3E%22kimmo2@ceo.truth.com%22%7D%7D%20User%20Load%20(0.2ms)%20SELECT%20%22users%22.*%20FROM%20%22users%22%20WHERE%20%22users%22.%22id%22%20=%20?%20LIMIT%20?%20[[%22id%22,%203],%20[%22LIMIT%22,%201]]%20Completed%20500%20Internal%20Server%20Error%20in%20422ms%20(ActiveRecord:%201.4ms%20%7C%20Allocations:%20625709)%20" for 127.0.0.1 at 2023-09-18 15:29:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/managers/3/employeesStarted%20GET%20%22/managers/3/employees%22%20for%20127.0.0.1%20at%202023-09-18%2015:24:28%20+0300%20ActiveRecord::SchemaMigration%20Pluck%20(0.3ms)%20SELECT%20%22schema_migrations%22.%22version%22%20FROM%20%22schema_migrations%22%20ORDER%20BY%20%22schema_migrations%22.%22version%22%20ASC%20Processing%20by%20UsersController%23employees_by_manager%20as%20*/*%20Parameters:%20%7B%22firstname%22=%3E%22Kelvin%22,%20%22lastname%22=%3E%22kirui%22,%20%22email%22=%3E%22kimmo2@ceo.truth.com%22,%20%22password%22=%3E%22[FILTERED]%22,%20%22password_confirmation%22=%3E%22[FILTERED]%22,%20%22id%22=%3E%223%22,%20%22user%22=%3E%7B%22firstname%22=%3E%22Kelvin%22,%20%22lastname%22=%3E%22kirui%22,%20%22email%22=%3E%22kimmo2@ceo.truth.com%22%7D%7D%20User%20Load%20(0.2ms)%20SELECT%20%22users%22.*%20FROM%20%22users%22%20WHERE%20%22users%22.%22id%22%20=%20"):
  
Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:29:47 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.6ms | Allocations: 3667)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 15:33:47 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 156)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 15:33:58 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms | Allocations: 3579)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:34:16 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.1ms | Allocations: 2878)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x000000000111c0>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:40:in `create_employee'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 15:34:29 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 346ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 929)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:35:02 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.1ms | Allocations: 2865)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000011300>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:40:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:35:20 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.5ms | Allocations: 3417)


  
ArgumentError (wrong number of arguments (given 1, expected 2+)):
  
app/controllers/users_controller.rb:40:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:35:33 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 4.0ms | Allocations: 5220)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000018740>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:40:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:38:13 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 71ms (ActiveRecord: 1.1ms | Allocations: 40105)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000008de0>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:41:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:38:25 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.4ms | Allocations: 4705)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x0000000000c8f0>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:41:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:38:47 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.5ms | Allocations: 3021)


  
ArgumentError (wrong number of arguments (given 1, expected 2+)):
  
app/controllers/users_controller.rb:41:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:39:07 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5d8caf550>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 340ms (ActiveRecord: 1.2ms | Allocations: 4973)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000013bf0>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:43:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:55:53 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:56:37 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:56:52 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:57:50 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:27: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:27: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:27: syntax error, unexpected `end', expecting end-of-input
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:58:28 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:59:26 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.6ms | Allocations: 193)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/application_controller.rb:17:in `authenticated?'
app/controllers/application_controller.rb:9:in `authorize_request'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:00:04 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 331ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 3063)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:00:37 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 152)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/application_controller.rb:17:in `authenticated?'
app/controllers/application_controller.rb:9:in `authorize_request'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:01:34 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/application_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'
app/controllers/application_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:01:46 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 2.0ms | Allocations: 193)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/application_controller.rb:17:in `authenticated?'
app/controllers/application_controller.rb:9:in `authorize_request'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:04:24 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 14ms (Views: 0.5ms | ActiveRecord: 1.7ms | Allocations: 3000)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:04:50 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 10ms (Views: 0.5ms | ActiveRecord: 2.0ms | Allocations: 2876)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:04:59 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5d9213398>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 347ms (ActiveRecord: 2.1ms | Allocations: 4983)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x0000000003b790>
Did you mean?  authorize!
               authorized?):
  
app/controllers/users_controller.rb:43:in `create_employee'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:07:52 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:8: syntax error, unexpected `end'
  end
  ^~~
/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:94: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:8: syntax error, unexpected `end'
app/controllers/users_controller.rb:94: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:8: syntax error, unexpected `end'
app/controllers/users_controller.rb:94: syntax error, unexpected end-of-input, expecting `end'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:08:29 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.3ms | Allocations: 3017)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:08:54 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5cc19b2b0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 335ms (ActiveRecord: 0.1ms | Allocations: 2705)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000042e50>
Did you mean?  authorize!
               authorized?):
  
app/controllers/users_controller.rb:47:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:09:39 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5d01e1ae0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 346ms (ActiveRecord: 2.4ms | Allocations: 4963)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000046a50>
Did you mean?  authorize!
               authorized?):
  
app/controllers/users_controller.rb:47:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:09:55 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5dcec8798>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:47:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimms@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:47:in `create_employee'
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kimms@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:09:55.453630"], ["updated_at", "2023-09-18 13:09:55.453630"]]
  â†³ app/controllers/users_controller.rb:47:in `create_employee'
  [1m[36mTRANSACTION (118.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:47:in `create_employee'
Completed 201 Created in 475ms (Views: 0.5ms | ActiveRecord: 122.2ms | Allocations: 6292)


Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 16:10:32 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `employees_by_manager'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 3]]
  â†³ app/controllers/users_controller.rb:13:in `employees_by_manager'
Completed 500 Internal Server Error in 178ms (ActiveRecord: 0.7ms | Allocations: 7907)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: users.manager_id):
  
app/controllers/users_controller.rb:13:in `employees_by_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:10:55 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.1ms | Allocations: 2458)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x0000000004a8f8>
Did you mean?  authorize!
               authorized?):
  
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:11:16 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.4ms | Allocations: 3041)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:11:32 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 330ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 933)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:12:01 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 677)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:12:05 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kism@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kism@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 676)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:12:08 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 676)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started GET "/users" for 127.0.0.1 at 2023-09-18 16:12:59 +0300
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:13:03 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 739)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:13:14 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 677)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:13:23 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007ff5cc0c63a8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:34:in `create_manager'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kissm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:34:in `create_manager'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "kissm@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:13:23.831566"], ["updated_at", "2023-09-18 13:13:23.831566"]]
  â†³ app/controllers/users_controller.rb:34:in `create_manager'
  [1m[36mTRANSACTION (102.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:34:in `create_manager'
Completed 201 Created in 450ms (Views: 0.5ms | ActiveRecord: 104.8ms | Allocations: 6118)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:13:47 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5c8024b38>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:46:in `create_employee'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kissm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:46:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:46:in `create_employee'
Completed 422 Unprocessable Entity in 773ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 609494)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:15:18 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5c81d59c8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kissm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
Completed 422 Unprocessable Entity in 336ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 5729)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:15:23 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5c84180f0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kiszsm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kiszsm@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:15:23.581578"], ["updated_at", "2023-09-18 13:15:23.581578"]]
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
  [1m[36mTRANSACTION (104.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
Completed 201 Created in 437ms (Views: 0.4ms | ActiveRecord: 104.8ms | Allocations: 3478)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:15:47 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 674)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:16:35 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.2ms | Allocations: 2925)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:17:23 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.5ms | Allocations: 2925)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:49:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:22:53 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.7ms | Allocations: 2925)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:49:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:23:24 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5d93e3830>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:52:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kiszsm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:52:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:52:in `create_employee'
Completed 422 Unprocessable Entity in 341ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 5668)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:27:08 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 728)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:26:in `authorized?'
app/controllers/application_controller.rb:20:in `authorize_request'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:28:02 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 837)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:26:in `authorized?'
app/controllers/application_controller.rb:20:in `authorize_request'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:29:15 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 730)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:26:in `authorized?'
app/controllers/application_controller.rb:20:in `authorize_request'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:30:24 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 727)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:26:in `authorized?'
app/controllers/application_controller.rb:20:in `authorize_request'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:30:48 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 728)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:26:in `authorized?'
app/controllers/application_controller.rb:20:in `authorize_request'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:31:50 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 729)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:27:in `authorized?'
app/controllers/application_controller.rb:21:in `authorize_request'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:40:40 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 285)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:40:58 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 154)


Started GET "/user" for 127.0.0.1 at 2023-09-18 16:41:27 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 155)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:41:43 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 371ms (Views: 1.2ms | ActiveRecord: 0.8ms | Allocations: 37179)


Started GET "/user" for 127.0.0.1 at 2023-09-18 16:42:02 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 154)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (25.6ms)[0m  [1m[35mDROP TABLE "employees"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (152.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "ceos"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (149.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (138.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "role" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (135.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (153.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (177.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 16:44:33 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f738c49df20>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "CEO"], ["email", "ceo@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:44:34.425192"], ["updated_at", "2023-09-18 13:44:34.425192"]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mTRANSACTION (110.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
Completed 201 Created in 514ms (Views: 0.6ms | ActiveRecord: 112.4ms | Allocations: 41115)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:44:53 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 327ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 975)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:45:05 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 325ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 770)


Started GET "/user" for 127.0.0.1 at 2023-09-18 16:45:16 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 166)


Started GET "/user" for 127.0.0.1 at 2023-09-18 16:46:24 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 2.1ms | Allocations: 4679)


  
NoMethodError (undefined method `authorized?' for #<UsersController:0x0000000000cc38>
Did you mean?  authorize!):
  
app/controllers/application_controller.rb:22:in `authorize_request'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:47:54 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.2ms | Allocations: 2434)


  
NoMethodError (undefined method `authorized?' for #<UsersController:0x0000000000cd00>
Did you mean?  authorize!):
  
app/controllers/application_controller.rb:22:in `authorize_request'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:48:52 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.9ms | Allocations: 4692)


  
NoMethodError (undefined method `authorize?' for #<UsersController:0x000000000106a8>
Did you mean?  authorize!):
  
app/controllers/application_controller.rb:22:in `authorize_request'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:49:03 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 2.1ms | Allocations: 2962)


  
ArgumentError (wrong number of arguments (given 0, expected 2+)):
  
app/controllers/application_controller.rb:22:in `authorize_request'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:50:03 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 4.4ms | Allocations: 4680)


  
NoMethodError (undefined method `authorized?' for #<UsersController:0x00000000017ae8>
Did you mean?  authorize!):
  
app/controllers/application_controller.rb:22:in `authorize_request'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:52:16 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 13ms (Views: 0.9ms | ActiveRecord: 1.6ms | Allocations: 3008)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:53:06 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f738ce40960>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:53:07.415758"], ["updated_at", "2023-09-18 13:53:07.415758"]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (104.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 459ms (Views: 0.6ms | ActiveRecord: 107.7ms | Allocations: 6130)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:53:22 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 611)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:56:13 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 328ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 921)


Started POST "/user" for 127.0.0.1 at 2023-09-18 16:56:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/user"):
  
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:56:37 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 742)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:56:59 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f7374680ff8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "emp@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:56:59.457880"], ["updated_at", "2023-09-18 13:56:59.457880"]]
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
  [1m[36mTRANSACTION (89.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
Completed 201 Created in 425ms (Views: 1.0ms | ActiveRecord: 90.1ms | Allocations: 3416)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddManagerAndCeoToUsers (20230918140328)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at" FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at" FROM "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddManagerAndCeoToUsers (20230918140328)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "manager_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "ausers"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "ceo_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_ceo_id" ON "ausers" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL, CONSTRAINT "fk_rails_5c21d1e372"
FOREIGN KEY ("ceo_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918140328"]]
  [1m[36mTRANSACTION (156.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/employees" for 127.0.0.1 at 2023-09-18 17:09:31 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f737cbc9778>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
Completed 422 Unprocessable Entity in 653ms (Views: 0.4ms | ActiveRecord: 0.8ms | Allocations: 612059)


  [1m[35m (123.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (118.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "role" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (110.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (104.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (158.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddManagerAndCeoToUsers (20230918140328)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "manager_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "ausers"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "ceo_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_ceo_id" ON "ausers" ("ceo_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL, CONSTRAINT "fk_rails_5c21d1e372"
FOREIGN KEY ("ceo_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918140328"]]
  [1m[36mTRANSACTION (146.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-09-18 14:09:54.814047"], ["updated_at", "2023-09-18 14:09:54.814047"]]
  [1m[36mTRANSACTION (88.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 17:10:21 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f73700ef5e8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "CEO"], ["email", "ceo@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:10:21.597923"], ["updated_at", "2023-09-18 14:10:21.597923"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mTRANSACTION (190.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
Completed 201 Created in 537ms (Views: 0.8ms | ActiveRecord: 192.4ms | Allocations: 18140)


Started GET "/user" for 127.0.0.1 at 2023-09-18 17:10:54 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 155)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:11:17 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 331ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 955)


Started GET "/user" for 127.0.0.1 at 2023-09-18 17:11:37 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 901)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:12:03 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f737416a000>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:12:03.391690"], ["updated_at", "2023-09-18 14:12:03.391690"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (139.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 478ms (Views: 0.5ms | ActiveRecord: 140.8ms | Allocations: 3451)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddManagerAndCeoToUsers (20230918140328)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_ceo_id" ON "ausers" ("ceo_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_ceo_id" ON "ausers" ("ceo_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "ausers"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918140328"]]
  [1m[36mTRANSACTION (128.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "employees"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (99.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "ceos"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (104.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (82.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "role" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (96.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (108.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (83.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddManagerAndCeoToUsers (20230918140328)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "manager_id" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "ceo_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_ceo_id" ON "ausers" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_5c21d1e372"
FOREIGN KEY ("ceo_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918140328"]]
  [1m[36mTRANSACTION (111.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:14:20 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 791)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 17:14:40 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f737842ab88>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "CEO"], ["email", "ceo@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:14:41.209921"], ["updated_at", "2023-09-18 14:14:41.209921"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mTRANSACTION (88.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
Completed 201 Created in 428ms (Views: 0.6ms | ActiveRecord: 89.5ms | Allocations: 5867)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:14:58 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 331ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 947)


Started GET "/user" for 127.0.0.1 at 2023-09-18 17:15:16 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 753)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:15:35 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f737025c890>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:15:35.510797"], ["updated_at", "2023-09-18 14:15:35.510797"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (121.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 455ms (Views: 0.4ms | ActiveRecord: 122.1ms | Allocations: 3452)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:19:27 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f73742c8028>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man1@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man1@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:19:28.070762"], ["updated_at", "2023-09-18 14:19:28.070762"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (142.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 484ms (Views: 0.5ms | ActiveRecord: 144.9ms | Allocations: 6581)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:21:35 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man2@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f737d397a68>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man2@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man2@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man2@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:21:36.327166"], ["updated_at", "2023-09-18 14:21:36.327166"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (323.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 668ms (Views: 0.9ms | ActiveRecord: 325.8ms | Allocations: 6581)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:23:23 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man3@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man3@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007fd5484a3a10>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man3@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man3@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man3@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man3@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:23:24.274994"], ["updated_at", "2023-09-18 14:23:24.274994"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (325.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 723ms (Views: 0.8ms | ActiveRecord: 327.8ms | Allocations: 42865)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:27:19 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f950041fcc0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com"}} }[0m
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f950041fcc0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:49:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man4@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:49:in `create_manager'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man4@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:27:21.355892"], ["updated_at", "2023-09-18 14:27:21.355892"], ["manager_id", nil], ["ceo_id", 1]]
  â†³ app/controllers/users_controller.rb:49:in `create_manager'
  [1m[36mTRANSACTION (342.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:49:in `create_manager'
Completed 201 Created in 787ms (Views: 1.2ms | ActiveRecord: 344.1ms | Allocations: 43042)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:28:49 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man4@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 326ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 960)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 17:29:50 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f9500ca0e80>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}} }[0m
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f9500ca0e80>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:75:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:75:in `create_employee'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "emp@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:29:50.816931"], ["updated_at", "2023-09-18 14:29:50.816931"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:75:in `create_employee'
  [1m[36mTRANSACTION (113.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:75:in `create_employee'
Completed 201 Created in 450ms (Views: 0.5ms | ActiveRecord: 113.9ms | Allocations: 3647)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 17:30:55 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f94f09d7178>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:63:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:63:in `create_employee'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "emp1@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:30:55.564036"], ["updated_at", "2023-09-18 14:30:55.564036"], ["manager_id", 6], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:63:in `create_employee'
  [1m[36mTRANSACTION (105.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:63:in `create_employee'
Completed 201 Created in 451ms (Views: 0.8ms | ActiveRecord: 108.3ms | Allocations: 6631)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:32:57 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:32:57.806771"], ["id", 8]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (154.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 166ms (Views: 0.2ms | ActiveRecord: 155.3ms | Allocations: 3259)


Started POST "/reset_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:33:31 +0300
  
ActionController::RoutingError (No route matches [POST] "/reset_password/4YQ5Z_0mBTRcshd_rjKUSA"):
  
Started PUT "/reset_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:33:51 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 888ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 609682)


Started PUT "/reset_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:34:05 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 338ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2915)


Started PUT "/reset_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:35:51 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 333ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2916)


Started PUT "/update_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:36:06 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 353ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2914)


Started PUT "/update_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:36:18 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 336ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2913)


Started PUT "/update_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:36:31 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 329ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2916)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:37:06 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:37:06.729357"], ["id", 8]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (85.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 94ms (Views: 0.4ms | ActiveRecord: 85.9ms | Allocations: 3042)


Started PUT "/update_password/2OuB22tQLcI5jf_4PiZtyw" for 127.0.0.1 at 2023-09-18 17:37:31 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 332ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 2913)


Started PUT "/update_password/2OuB22tQLcI5jf_4PiZtyw" for 127.0.0.1 at 2023-09-18 17:38:37 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 332ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2913)


Started PUT "/update_password/2OuB22tQLcI5jf_4PiZtyw" for 127.0.0.1 at 2023-09-18 17:38:53 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 356ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 6023)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:39:32 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:39:32.680066"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (117.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 128ms (Views: 0.2ms | ActiveRecord: 118.0ms | Allocations: 3232)


Started PUT "/reset_password/9XpkVaEpO-W9bB0BReRkhA" for 127.0.0.1 at 2023-09-18 17:40:02 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 336ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2913)


Started PUT "/reset_password/9XpkVaEpO-W9bB0BReRkhA" for 127.0.0.1 at 2023-09-18 17:41:02 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 341ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 5964)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:41:30 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:41:30.787031"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (86.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 145ms (Views: 0.4ms | ActiveRecord: 88.5ms | Allocations: 42348)


Started PUT "/reset_password/cpWUj0YAAcyACWu9O1CjZA" for 127.0.0.1 at 2023-09-18 17:41:47 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 711ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 609793)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:42:05 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 327ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 600)


Started PATCH "/reset_password/cpWUj0YAAcyACWu9O1CjZA" for 127.0.0.1 at 2023-09-18 17:43:38 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/reset_password/cpWUj0YAAcyACWu9O1CjZA"):
  
Started PUT "/reset_password/cpWUj0YAAcyACWu9O1CjZA" for 127.0.0.1 at 2023-09-18 17:43:41 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 334ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2914)


Started PUT "/reset_password/cpWUj0YAAcyACWu9O1CjZA" for 127.0.0.1 at 2023-09-18 17:45:07 +0300
Processing by UsersController#update_password as */*
  Parameters: {"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 334ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2937)


Started PUT "/reset_password/cpWUj0YAAcyACWu9O1CjZA" for 127.0.0.1 at 2023-09-18 17:48:08 +0300
Processing by UsersController#update_password as */*
  Parameters: {"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 340ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 6023)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:48:28 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#reset_password as */*
  Parameters: {"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
Completed 404 Not Found in 16ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 21196)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:48:38 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:48:38.124832"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (129.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 161ms (Views: 0.2ms | ActiveRecord: 130.7ms | Allocations: 21843)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:48:56 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 719ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 609776)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:49:05 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 335ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2934)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:51:15 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 357ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 2935)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:51:26 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 343ms (Views: 0.4ms | ActiveRecord: 1.8ms | Allocations: 6024)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:53:02 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
[31mUnpermitted parameters: :firstname, :lastname, :email, :reset_password_token, :user. Context: { controller: UsersController, action: update_password, request: #<ActionDispatch::Request:0x00007f5e6411c2f8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"update_password", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-09-18 14:53:02.425864"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mTRANSACTION (105.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:91:in `update_password'
Completed 200 OK in 448ms (Views: 0.2ms | ActiveRecord: 107.6ms | Allocations: 6387)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:53:24 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 339ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 5967)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:53:55 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 344ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 9242)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:54:08 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 329ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 871)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:54:23 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp2@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 508)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:54:29 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp2@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 508)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:54:36 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 331ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 795)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:54:47 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 327ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 553)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:55:04 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:55:04.559073"], ["id", 8]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (101.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 112ms (Views: 0.2ms | ActiveRecord: 102.3ms | Allocations: 3527)


Started PUT "/reset_password/0gW189lFdSYoRxs6qiYpqQ" for 127.0.0.1 at 2023-09-18 17:55:16 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
[31mUnpermitted parameters: :firstname, :lastname, :email, :reset_password_token, :user. Context: { controller: UsersController, action: update_password, request: #<ActionDispatch::Request:0x00007f5e58058580>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"update_password", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-09-18 14:55:17.149527"], ["id", 8]]
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mTRANSACTION (125.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:91:in `update_password'
Completed 200 OK in 466ms (Views: 0.3ms | ActiveRecord: 126.1ms | Allocations: 3420)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:55:29 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 325ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 795)


Started GET "/all" for 127.0.0.1 at 2023-09-19 16:12:26 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CeoController#dashboard as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "ceo"=>{}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 199)


Started POST "/users/login" for 127.0.0.1 at 2023-09-19 16:13:00 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 671ms (Views: 1.2ms | ActiveRecord: 4.9ms | Allocations: 45515)


Started GET "/all" for 127.0.0.1 at 2023-09-19 16:13:21 +0300
Processing by CeoController#dashboard as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "ceo"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.3ms | Allocations: 2576)


  
NoMethodError (undefined method `authenticate_user!' for #<CeoController:0x00000000009088>
Did you mean?  authorize_request):
  
activesupport (7.0.8) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/all" for 127.0.0.1 at 2023-09-19 16:14:25 +0300
Processing by CeoController#dashboard as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 856ms (ActiveRecord: 1.7ms | Allocations: 616297)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/all" for 127.0.0.1 at 2023-09-19 16:14:52 +0300
Processing by CeoController#dashboard as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "ceo"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = ?[0m  [["role", "Manager"]]
  â†³ app/controllers/ceo_controller.rb:7:in `dashboard'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = ?[0m  [["role", "Employee"]]
  â†³ app/controllers/ceo_controller.rb:7:in `dashboard'
Completed 200 OK in 37ms (Views: 8.2ms | ActiveRecord: 2.5ms | Allocations: 11510)


Started GET "/all" for 127.0.0.1 at 2023-09-19 16:15:05 +0300
Processing by CeoController#dashboard as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "ceo"=>{}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 112)


Started GET "/all" for 127.0.0.1 at 2023-09-19 16:15:08 +0300
Processing by CeoController#dashboard as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = ?[0m  [["role", "Manager"]]
  â†³ app/controllers/ceo_controller.rb:7:in `dashboard'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = ?[0m  [["role", "Employee"]]
  â†³ app/controllers/ceo_controller.rb:7:in `dashboard'
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.6ms | Allocations: 2987)


Started GET "/all" for 127.0.0.1 at 2023-09-19 16:16:35 +0300
Processing by CeoController#dashboard as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = ?[0m  [["role", "Manager"]]
  â†³ app/controllers/ceo_controller.rb:11:in `dashboard'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = ?[0m  [["role", "Employee"]]
  â†³ app/controllers/ceo_controller.rb:11:in `dashboard'
Completed 200 OK in 24ms (Views: 5.4ms | ActiveRecord: 2.6ms | Allocations: 11436)


Started POST "/users/login" for 127.0.0.1 at 2023-09-19 16:16:48 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 333ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 728)


Started POST "/users/login" for 127.0.0.1 at 2023-09-19 16:16:56 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 335ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 769)


Started GET "/user" for 127.0.0.1 at 2023-09-19 16:17:11 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 783)


Started GET "/all" for 127.0.0.1 at 2023-09-19 16:17:20 +0300
Processing by CeoController#dashboard as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 610)


Started GET "/all" for 127.0.0.1 at 2023-09-19 16:19:33 +0300
Processing by CeoController#all_employees as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 401 Unauthorized in 20ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 8996)


Started GET "/all" for 127.0.0.1 at 2023-09-19 16:19:39 +0300
Processing by CeoController#all_employees as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = ?[0m  [["role", "Manager"]]
  â†³ app/controllers/ceo_controller.rb:11:in `all_employees'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = ?[0m  [["role", "Employee"]]
  â†³ app/controllers/ceo_controller.rb:11:in `all_employees'
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 0.6ms | Allocations: 3051)


Started GET "/single_employee" for 127.0.0.1 at 2023-09-19 16:26:58 +0300
  
AbstractController::ActionNotFound (The action 'single_employee' could not be found for CeoController
Did you mean?  single_user):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/employee/1" for 127.0.0.1 at 2023-09-19 16:27:23 +0300
  
AbstractController::ActionNotFound (The action 'single_employee' could not be found for CeoController
Did you mean?  single_user):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/employee/1" for 127.0.0.1 at 2023-09-19 16:27:42 +0300
Processing by CeoController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"1", "ceo"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:17:in `single_employee'
Completed 200 OK in 25ms (Views: 0.9ms | ActiveRecord: 0.9ms | Allocations: 9160)


Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-19 16:29:47 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 3]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 90ms (Views: 5.6ms | ActiveRecord: 6.8ms | Allocations: 13525)


Started GET "/managers/1/employees" for 127.0.0.1 at 2023-09-19 16:29:53 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"1", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 1]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 1671)


Started GET "/managers/2/employees" for 127.0.0.1 at 2023-09-19 16:29:58 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"2", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 2]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 1669)


Started GET "/managers/4/employees" for 127.0.0.1 at 2023-09-19 16:30:02 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"4", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 4]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1670)


Started GET "/managers/5/employees" for 127.0.0.1 at 2023-09-19 16:30:08 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"5", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 5]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 1669)


Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 16:30:10 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 10ms (Views: 4.1ms | ActiveRecord: 0.8ms | Allocations: 1878)


Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 16:39:55 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 38ms (Views: 4.9ms | ActiveRecord: 1.3ms | Allocations: 10086)


Started GET "/managers/5/employees" for 127.0.0.1 at 2023-09-19 16:42:05 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"5", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 5]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.4ms | Allocations: 1703)


Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 16:42:11 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 7ms (Views: 2.5ms | ActiveRecord: 0.7ms | Allocations: 1899)


Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 16:42:28 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 2.6ms | Allocations: 10804)


  
NoMethodError (undefined method `lastname' for "Kelvin":String):
  
app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 16:42:43 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 1.9ms | Allocations: 11500)


  
NameError (undefined local variable or method `lastname' for #<CeoController:0x000000000330b8>):
  
app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 16:43:05 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/ceo_controller.rb:29: syntax error, unexpected local variable or method, expecting '}'
...ager: manager.firstname manager.lastname, employees: employe...
...                        ^~~~~~~
/home/kevin/proj/Truth-Lounge/api/app/controllers/ceo_controller.rb:29: syntax error, unexpected tLABEL, expecting '='
...me manager.lastname, employees: employees}
...                     ^~~~~~~~~~
):
  
app/controllers/ceo_controller.rb:29: syntax error, unexpected local variable or method, expecting '}'
app/controllers/ceo_controller.rb:29: syntax error, unexpected tLABEL, expecting '='
app/controllers/ceo_controller.rb:29: syntax error, unexpected local variable or method, expecting '}'
app/controllers/ceo_controller.rb:29: syntax error, unexpected tLABEL, expecting '='
Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 16:43:16 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/ceo_controller.rb:29: syntax error, unexpected ',', expecting =>
...er.firstname, manager.lastname, employees: employees}
...                              ^
):
  
app/controllers/ceo_controller.rb:29: syntax error, unexpected ',', expecting =>
app/controllers/ceo_controller.rb:29: syntax error, unexpected ',', expecting =>
Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 16:43:36 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/ceo_controller.rb:29: syntax error, unexpected ',', expecting =>
... { manager:{ manager.firstname, manager.lastname}, employees...
...                              ^
/home/kevin/proj/Truth-Lounge/api/app/controllers/ceo_controller.rb:29: syntax error, unexpected '}', expecting `end'
...er.firstname, manager.lastname}, employees: employees}
...                              ^
):
  
app/controllers/ceo_controller.rb:29: syntax error, unexpected ',', expecting =>
app/controllers/ceo_controller.rb:29: syntax error, unexpected '}', expecting `end'
app/controllers/ceo_controller.rb:29: syntax error, unexpected ',', expecting =>
app/controllers/ceo_controller.rb:29: syntax error, unexpected '}', expecting `end'
Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 16:44:17 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 29ms (Views: 3.5ms | ActiveRecord: 2.3ms | Allocations: 10632)


Started GET "/user" for 127.0.0.1 at 2023-09-19 17:02:36 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (8.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230919135243_create_managers.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:93:in `execute_if_updated'
activerecord (7.0.8) lib/active_record/migration.rb:634:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users" for 127.0.0.1 at 2023-09-19 17:02:45 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230919135243_create_managers.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateManagers (20230919135243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (8.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230919135243"]]
  [1m[36mTRANSACTION (456.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users" for 127.0.0.1 at 2023-09-19 17:03:25 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
Started GET "/user" for 127.0.0.1 at 2023-09-19 17:03:33 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 12ms (Views: 1.2ms | ActiveRecord: 1.0ms | Allocations: 3449)


Started GET "/user" for 127.0.0.1 at 2023-09-19 17:03:43 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 784)


Started GET "/users/login" for 127.0.0.1 at 2023-09-19 17:03:59 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/login"):
  
Started POST "/users/login" for 127.0.0.1 at 2023-09-19 17:04:02 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man5@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man5@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man5@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 680)


Started POST "/users/login" for 127.0.0.1 at 2023-09-19 17:04:09 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man5@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man5@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man5@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 508)


Started POST "/users/login" for 127.0.0.1 at 2023-09-19 17:04:17 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man4@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 327ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 553)


Started POST "/users/login" for 127.0.0.1 at 2023-09-19 17:04:33 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man5@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man5@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man5@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 508)


Started POST "/users/login" for 127.0.0.1 at 2023-09-19 17:04:38 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man5@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man5@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man5@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 508)


Started POST "/users/login" for 127.0.0.1 at 2023-09-19 17:04:44 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 327ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 550)


Started POST "/users/login" for 127.0.0.1 at 2023-09-19 17:04:51 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 329ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 764)


Started POST "/users/login" for 127.0.0.1 at 2023-09-19 17:06:04 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man4@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 329ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 765)


Started GET "/all_employees" for 127.0.0.1 at 2023-09-19 17:06:36 +0300
Processing by CeoController#all_employees as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 633)


Started GET "/managers_employees" for 127.0.0.1 at 2023-09-19 17:06:59 +0300
Processing by ManagerController#all_employees as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:12:in `all_employees'
Completed 404 Not Found in 4ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 1216)


Started GET "/managers_employees/6" for 127.0.0.1 at 2023-09-19 17:07:18 +0300
  
ActionController::RoutingError (No route matches [GET] "/managers_employees/6"):
  
Started GET "/managers_employees/6" for 127.0.0.1 at 2023-09-19 17:07:31 +0300
Processing by ManagerController#all_employees as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "manager"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:12:in `all_employees'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/manager_controller.rb:19:in `all_employees'
Completed 200 OK in 53ms (Views: 3.2ms | ActiveRecord: 2.4ms | Allocations: 10566)


Started GET "/managers_employees/6" for 127.0.0.1 at 2023-09-19 17:08:46 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/manager_controller.rb:19: syntax error, unexpected tLABEL
...       render json:  employees: employees 
...                     ^~~~~~~~~~
):
  
app/controllers/manager_controller.rb:19: syntax error, unexpected tLABEL
app/controllers/manager_controller.rb:19: syntax error, unexpected tLABEL
Started GET "/managers_employees/6" for 127.0.0.1 at 2023-09-19 17:08:56 +0300
Processing by ManagerController#all_employees as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:12:in `all_employees'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/manager_controller.rb:19:in `all_employees'
Completed 200 OK in 26ms (Views: 3.2ms | ActiveRecord: 2.5ms | Allocations: 10538)


Started GET "/managers_employees/4" for 127.0.0.1 at 2023-09-19 17:09:07 +0300
Processing by ManagerController#all_employees as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"4", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:12:in `all_employees'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 4]]
  â†³ app/controllers/manager_controller.rb:19:in `all_employees'
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1696)


Started GET "/employees/4" for 127.0.0.1 at 2023-09-19 17:13:16 +0300
  
ActionController::RoutingError (No route matches [GET] "/employees/4"):
  
Started GET "/employee/4" for 127.0.0.1 at 2023-09-19 17:13:24 +0300
Processing by CeoController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"4", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:17:in `single_employee'
Completed 200 OK in 18ms (Views: 0.7ms | ActiveRecord: 1.8ms | Allocations: 9668)


Started GET "/employee/4" for 127.0.0.1 at 2023-09-19 17:15:43 +0300
Processing by CeoController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"4", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:17:in `single_employee'
Completed 200 OK in 19ms (Views: 0.6ms | ActiveRecord: 1.8ms | Allocations: 9669)


Started GET "/employee/5" for 127.0.0.1 at 2023-09-19 17:15:54 +0300
Processing by CeoController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"5", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:17:in `single_employee'
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1177)


Started GET "/managers/4/employees/1" for 127.0.0.1 at 2023-09-19 17:18:32 +0300
  
ActionController::RoutingError (uninitialized constant AnagersController
Did you mean?  ManagerController):
  
Started GET "/managers/4/employees/1" for 127.0.0.1 at 2023-09-19 17:18:46 +0300
  
ArgumentError ('Managers' is not a supported controller name. This can lead to potential routing problems. See https://guides.rubyonrails.org/routing.html#specifying-a-controller-to-use):
  
config/routes.rb:25:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/managers/4/employees/1" for 127.0.0.1 at 2023-09-19 17:19:10 +0300
  
ArgumentError ('Manager' is not a supported controller name. This can lead to potential routing problems. See https://guides.rubyonrails.org/routing.html#specifying-a-controller-to-use):
  
config/routes.rb:25:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/managers/4/employees/1" for 127.0.0.1 at 2023-09-19 17:19:20 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"4", "employee_id"=>"1", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (29.4ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 118ms (Views: 0.2ms | ActiveRecord: 31.9ms | Allocations: 10355)


Started GET "/managers/4/employees/4" for 127.0.0.1 at 2023-09-19 17:19:27 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"4", "employee_id"=>"4", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1443)


Started GET "/managers/4/employees/8" for 127.0.0.1 at 2023-09-19 17:19:32 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"4", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1443)


Started GET "/managers/4/employees/6" for 127.0.0.1 at 2023-09-19 17:19:36 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"4", "employee_id"=>"6", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1443)


Started GET "/managers/4/employees/9" for 127.0.0.1 at 2023-09-19 17:19:41 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"4", "employee_id"=>"9", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 64ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1443)


Started GET "/managers/6/employees/" for 127.0.0.1 at 2023-09-19 17:19:56 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 9ms (Views: 3.6ms | ActiveRecord: 0.9ms | Allocations: 2250)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:20:05 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1443)


Started GET "/managers/6/employees/" for 127.0.0.1 at 2023-09-19 17:20:10 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 1896)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:20:20 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1443)


Started GET "/managers/6/employe" for 127.0.0.1 at 2023-09-19 17:20:54 +0300
  
ActionController::RoutingError (No route matches [GET] "/managers/6/employe"):
  
Started GET "/managers/6/employee" for 127.0.0.1 at 2023-09-19 17:21:01 +0300
  
ActionController::RoutingError (No route matches [GET] "/managers/6/employee"):
  
Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 17:21:05 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 7ms (Views: 3.3ms | ActiveRecord: 0.4ms | Allocations: 1895)


Started GET "/managers/6/employees/1" for 127.0.0.1 at 2023-09-19 17:21:13 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"1", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1443)


Started GET "/managers/6/employees/2" for 127.0.0.1 at 2023-09-19 17:21:17 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"2", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1443)


Started GET "/managers/6/employees/3" for 127.0.0.1 at 2023-09-19 17:21:21 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"3", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 6ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1443)


Started GET "/managers/6/employees/4" for 127.0.0.1 at 2023-09-19 17:21:27 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"4", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1443)


Started GET "/managers/6/employees/5" for 127.0.0.1 at 2023-09-19 17:21:30 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"5", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1443)


Started GET "/managers/6/employees/6" for 127.0.0.1 at 2023-09-19 17:21:32 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"6", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1443)


Started GET "/managers/6/employees/7" for 127.0.0.1 at 2023-09-19 17:21:37 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"7", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1443)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:21:40 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 46ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 1443)


Started GET "/managers/6/employees/9" for 127.0.0.1 at 2023-09-19 17:21:44 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"9", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1443)


Started GET "/managers/6/employees/9" for 127.0.0.1 at 2023-09-19 17:23:52 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"9", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 31ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 10375)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:23:55 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 7ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 1444)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:23:57 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 404 Not Found in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1443)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:24:27 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 401 Unauthorized in 24ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 9822)


Started GET "/managers/6/employees/6" for 127.0.0.1 at 2023-09-19 17:24:36 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"6", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1416)


Started GET "/managers/6/employees/7" for 127.0.0.1 at 2023-09-19 17:24:40 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"7", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1416)


Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 17:25:46 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 8ms (Views: 3.4ms | ActiveRecord: 1.0ms | Allocations: 2250)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:25:51 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 401 Unauthorized in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1416)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:27:35 +0300
Processing by ManagerController#single_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `single_employee'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `single_employee'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 2.9ms | Allocations: 12598)


  
NoMethodError (undefined method `name' for #<User:0x00007f0e2c6767b8>):
  
app/controllers/manager_controller.rb:47:in `single_employee'
Started GET "/managers/6/employees/" for 127.0.0.1 at 2023-09-19 17:27:39 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 6ms (Views: 2.4ms | ActiveRecord: 0.9ms | Allocations: 2253)


Started GET "/managers/6/employees/" for 127.0.0.1 at 2023-09-19 17:28:09 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 22ms (Views: 3.0ms | ActiveRecord: 2.1ms | Allocations: 10627)


Started GET "/managers/6/employees/" for 127.0.0.1 at 2023-09-19 17:28:33 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 27ms (Views: 3.9ms | ActiveRecord: 2.8ms | Allocations: 10627)


Started GET "/managers/6/employees/" for 127.0.0.1 at 2023-09-19 17:29:01 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 25ms (Views: 3.9ms | ActiveRecord: 2.8ms | Allocations: 10627)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:29:06 +0300
Processing by ManagerController#employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `employee'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `employee'
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1425)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:30:10 +0300
Processing by ManagerController#employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `employee'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `employee'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 2.3ms | Allocations: 11916)


  
NameError (undefined local variable or method `user' for #<ManagerController:0x00000000083ec8>
Did you mean?  super):
  
app/controllers/manager_controller.rb:45:in `employee'
Started GET "/managers/6/employees/" for 127.0.0.1 at 2023-09-19 17:30:14 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 1.1ms | Allocations: 2252)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:30:18 +0300
Processing by ManagerController#employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `employee'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `employee'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.4ms | Allocations: 3534)


  
NameError (undefined local variable or method `user' for #<ManagerController:0x000000000840a8>
Did you mean?  super):
  
app/controllers/manager_controller.rb:45:in `employee'
Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:32:20 +0300
Processing by ManagerController#employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `employee'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `employee'
Completed 200 OK in 23ms (Views: 0.4ms | ActiveRecord: 2.0ms | Allocations: 9849)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:32:39 +0300
Processing by ManagerController#employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `employee'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `employee'
Completed 200 OK in 37ms (Views: 0.7ms | ActiveRecord: 3.2ms | Allocations: 10076)


Started GET "/managers/6/employees/" for 127.0.0.1 at 2023-09-19 17:33:09 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 7ms (Views: 3.0ms | ActiveRecord: 0.9ms | Allocations: 2243)


Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 17:33:12 +0300
Processing by CeoController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:27:in `employees_by_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/ceo_controller.rb:29:in `employees_by_manager'
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.4ms | Allocations: 1896)


Started GET "/managers/6/employees" for 127.0.0.1 at 2023-09-19 17:33:55 +0300
  
ActionController::RoutingError (No route matches [GET] "/managers/6/employees"):
  
Started GET "/managers/6/employees/7" for 127.0.0.1 at 2023-09-19 17:34:03 +0300
Processing by ManagerController#employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"7", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `employee'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `employee'
Completed 401 Unauthorized in 21ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 9861)


Started GET "/managers/6/employees/9" for 127.0.0.1 at 2023-09-19 17:34:11 +0300
Processing by ManagerController#employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"9", "manager"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `employee'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `employee'
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1446)


Started GET "/managers/6/employees/8" for 127.0.0.1 at 2023-09-19 17:34:16 +0300
Processing by ManagerController#employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"6", "employee_id"=>"8", "manager"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:32:in `employee'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/manager_controller.rb:39:in `employee'
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 1644)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateDrinks (20230919144252)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "drinks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "brand" varchar, "capacity" varchar, "price" varchar, "manager_id" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230919144252"]]
  [1m[36mTRANSACTION (349.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 17:56:57 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant DrinkController
Did you mean?  DrinksController):
  
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 17:57:06 +0300
  
ActionController::RoutingError (uninitialized constant DrinkController
Did you mean?  DrinksController):
  
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 17:57:18 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007f0e340799c0>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
Completed 500 Internal Server Error in 53ms (ActiveRecord: 2.4ms | Allocations: 26193)


  
NoMethodError (undefined method `password_digest' for #<Drink:0x00007f0e3830b360>
Did you mean?  password):
  
app/controllers/drinks_controller.rb:11:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 17:58:11 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007f0e380662e0>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.1ms | Allocations: 3176)


  
NoMethodError (undefined method `password_digest' for #<Drink:0x00007f0e40b3c018>
Did you mean?  password):
  
app/controllers/drinks_controller.rb:11:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 17:59:18 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007f0e355ff6c8>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.1ms | Allocations: 3175)


  
NoMethodError (undefined method `password_digest' for #<Drink:0x00007f0e355de2e8>
Did you mean?  password):
  
app/controllers/drinks_controller.rb:11:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:00:42 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007f0e34ec3b98>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
Completed 500 Internal Server Error in 58ms (ActiveRecord: 2.2ms | Allocations: 13361)


  
NoMethodError (undefined method `password_digest' for #<Drink:0x00007f0e352f2200>
Did you mean?  password):
  
app/controllers/drinks_controller.rb:13:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:02:24 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabb4b71fa8>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
Completed 500 Internal Server Error in 475ms (ActiveRecord: 2.0ms | Allocations: 62835)


  
NoMethodError (undefined method `password_digest' for #<Drink:0x00007fabc4ef7870>
Did you mean?  password):
  
app/controllers/drinks_controller.rb:12:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:03:42 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabb46f11b8>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
Completed 422 Unprocessable Entity in 891ms (Views: 0.3ms | ActiveRecord: 2.7ms | Allocations: 621434)


Started GET "/user" for 127.0.0.1 at 2023-09-19 18:04:00 +0300
Processing by UsersController#index as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 825)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:04:10 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabb802b028>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1336)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:07:47 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 2.1ms | Allocations: 11104)


  
NameError (undefined local variable or method `drink' for #<DrinksController:0x00000000011170>):
  
app/controllers/drinks_controller.rb:12:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:08:46 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabad21f6f0>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
Completed 422 Unprocessable Entity in 97ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 15875)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:08:50 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabad1659d0>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
  [1m[36mManager Load (0.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
Completed 422 Unprocessable Entity in 15ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 3031)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:09:38 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabad143448>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
  [1m[36mManager Load (0.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
Completed 422 Unprocessable Entity in 13ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 3035)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:10:15 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabad0b3280>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:16:in `create_drink'
Completed 422 Unprocessable Entity in 39ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 15053)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:16:21 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.9ms | Allocations: 11188)


  
NoMethodError (undefined method `drinks' for #<User:0x00007fabb0789318>):
  
app/controllers/drinks_controller.rb:11:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:16:45 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 1.9ms | Allocations: 11732)


  
NoMethodError (undefined method `drink' for #<User:0x00007fabb52d94a8>):
  
app/controllers/drinks_controller.rb:11:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:18:18 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 69ms (ActiveRecord: 2.1ms | Allocations: 13012)


  
NoMethodError (undefined method `drink' for #<User:0x00007fabb86b0bf0>
Did you mean?  drinks
               drinks=):
  
app/controllers/drinks_controller.rb:11:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:18:27 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabb06960a0>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
Completed 422 Unprocessable Entity in 88ms (Views: 0.3ms | ActiveRecord: 3.3ms | Allocations: 16780)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:19:31 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabc020b2a0>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
Completed 422 Unprocessable Entity in 35ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 15261)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:21:15 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabb83ec298>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
Completed 422 Unprocessable Entity in 10ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 3201)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:28:02 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabb0a1c8f0>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.0ms | Allocations: 9773)


  
ActiveModel::UnknownAttributeError (unknown attribute 'name' for User.):
  
app/controllers/drinks_controller.rb:10:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:28:29 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabb0b42f40>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:13:in `create_drink'
Completed 422 Unprocessable Entity in 33ms (Views: 0.3ms | ActiveRecord: 3.0ms | Allocations: 15039)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:30:31 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabb528baf0>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
Completed 422 Unprocessable Entity in 30ms (Views: 0.3ms | ActiveRecord: 2.6ms | Allocations: 12694)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:32:23 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabb80fa058>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 2.3ms | Allocations: 12483)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/drinks_controller.rb:8:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:32:46 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabad4abef0>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:9:in `create_drink'
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:9:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:9:in `create_drink'
Completed 422 Unprocessable Entity in 69ms (Views: 0.3ms | ActiveRecord: 4.7ms | Allocations: 15026)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:33:38 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabac61a440>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
Completed 422 Unprocessable Entity in 53ms (Views: 0.2ms | ActiveRecord: 3.9ms | Allocations: 15027)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:34:48 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :drink. Context: { controller: DrinksController, action: create_drink, request: #<ActionDispatch::Request:0x00007fabad07f840>, params: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "controller"=>"drinks", "action"=>"create_drink", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
Completed 422 Unprocessable Entity in 109ms (Views: 0.2ms | ActiveRecord: 3.4ms | Allocations: 15027)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:36:12 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
Completed 422 Unprocessable Entity in 626ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 673319)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:36:16 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:10:in `create_drink'
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 2962)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:37:06 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 2.7ms | Allocations: 12656)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/drinks_controller.rb:10:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:37:26 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
Completed 422 Unprocessable Entity in 34ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 15102)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:41:53 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
Completed 422 Unprocessable Entity in 52ms (Views: 0.4ms | ActiveRecord: 3.9ms | Allocations: 16847)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:44:46 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/drinks_controller.rb:30: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/drinks_controller.rb:30: syntax error, unexpected end-of-input, expecting `end'
app/controllers/drinks_controller.rb:30: syntax error, unexpected end-of-input, expecting `end'
Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:45:03 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:9:in `create_drink'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:9:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:9:in `create_drink'
Completed 422 Unprocessable Entity in 41ms (Views: 0.3ms | ActiveRecord: 3.6ms | Allocations: 15169)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:47:20 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mManager Load (0.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
Completed 422 Unprocessable Entity in 35ms (Views: 0.2ms | ActiveRecord: 3.0ms | Allocations: 14939)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:50:05 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mDrink Create (55.7ms)[0m  [1m[32mINSERT INTO "drinks" ("name", "brand", "capacity", "price", "manager_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "chrome"], ["brand", "gin"], ["capacity", "750 ml"], ["price", "950"], ["manager_id", "6"], ["created_at", "2023-09-19 15:50:05.212159"], ["updated_at", "2023-09-19 15:50:05.212159"]]
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mTRANSACTION (113.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
Completed 201 Created in 203ms (Views: 0.6ms | ActiveRecord: 171.6ms | Allocations: 14769)


Started GET "/drinks" for 127.0.0.1 at 2023-09-19 18:54:19 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 404 Not Found in 20ms (ActiveRecord: 2.5ms | Allocations: 10272)


  
ActiveRecord::RecordNotFound (Couldn't find Drink without an ID):
  
app/controllers/drinks_controller.rb:26:in `all_drinks'
Started GET "/drinks" for 127.0.0.1 at 2023-09-19 18:55:14 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"750 ml", "price"=>"950"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:27:in `all_drinks'
Completed 200 OK in 24ms (Views: 5.1ms | ActiveRecord: 2.6ms | Allocations: 12492)


Started POST "/drinks" for 127.0.0.1 at 2023-09-19 18:55:46 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"500 ml", "price"=>"650", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"500 ml", "price"=>"650"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mDrink Create (0.3ms)[0m  [1m[32mINSERT INTO "drinks" ("name", "brand", "capacity", "price", "manager_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "chrome"], ["brand", "gin"], ["capacity", "500 ml"], ["price", "650"], ["manager_id", "6"], ["created_at", "2023-09-19 15:55:46.897928"], ["updated_at", "2023-09-19 15:55:46.897928"]]
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mTRANSACTION (98.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
Completed 201 Created in 109ms (Views: 0.8ms | ActiveRecord: 99.4ms | Allocations: 3511)


Started GET "/drinks" for 127.0.0.1 at 2023-09-19 18:55:51 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"500 ml", "price"=>"650", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"500 ml", "price"=>"650"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:27:in `all_drinks'
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 1432)


Started GET "/managers/6/drinks" for 127.0.0.1 at 2023-09-19 18:58:58 +0300
Processing by DrinksController#drinks_by_manager as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"500 ml", "price"=>"650", "id"=>"6", "drink"=>{"name"=>"chrome", "brand"=>"gin", "capacity"=>"500 ml", "price"=>"650"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `drinks_by_manager'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ?[0m  [["manager_id", "6"]]
  â†³ app/controllers/drinks_controller.rb:34:in `drinks_by_manager'
Completed 200 OK in 30ms (Views: 6.5ms | ActiveRecord: 2.6ms | Allocations: 13477)


Started GET "/managers/6/drinks" for 127.0.0.1 at 2023-09-19 19:00:31 +0300
Processing by CeoController#drinks_by_manager as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"500 ml", "price"=>"650", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/ceo_controller.rb:36:in `drinks_by_manager'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ?[0m  [["manager_id", "6"]]
  â†³ app/controllers/ceo_controller.rb:38:in `drinks_by_manager'
Completed 200 OK in 34ms (Views: 7.6ms | ActiveRecord: 3.2ms | Allocations: 15380)


Started GET "/managers/6/drinks" for 127.0.0.1 at 2023-09-19 19:00:59 +0300
Processing by CeoController#drinks_by_manager as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"500 ml", "price"=>"650", "id"=>"6", "ceo"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 401 Unauthorized in 25ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 10098)


Started GET "/user" for 127.0.0.1 at 2023-09-20 14:46:41 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as */*
  Parameters: {"name"=>"chrome", "brand"=>"gin", "capacity"=>"500 ml", "price"=>"650", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 208ms (Views: 0.7ms | ActiveRecord: 1.0ms | Allocations: 38269)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 14:49:01 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 328ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 992)


Started POST "/user" for 127.0.0.1 at 2023-09-20 14:49:31 +0300
  
ActionController::RoutingError (No route matches [POST] "/user"):
  
Started GET "/user" for 127.0.0.1 at 2023-09-20 14:49:35 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 800)


Started PUT "/usera/2" for 127.0.0.1 at 2023-09-20 14:51:13 +0300
  
ActionController::RoutingError (No route matches [PUT] "/usera/2"):
  
Started PUT "/users/2" for 127.0.0.1 at 2023-09-20 14:51:23 +0300
Processing by UsersController#update as */*
  Parameters: {"firstname"=>"Manager", "lastname"=>"Kimutai", "id"=>"2", "user"=>{"firstname"=>"Manager", "lastname"=>"Kimutai"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:86:in `update'
[31mUnpermitted parameters: :id, :user. Context: { controller: UsersController, action: update, request: #<ActionDispatch::Request:0x00007fd5f88d19d8>, params: {"firstname"=>"Manager", "lastname"=>"Kimutai", "controller"=>"users", "action"=>"update", "id"=>"2", "user"=>{"firstname"=>"Manager", "lastname"=>"Kimutai"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:87:in `update'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "man@truth.com"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:87:in `update'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "firstname" = ?, "lastname" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["firstname", "Manager"], ["lastname", "Kimutai"], ["updated_at", "2023-09-20 11:51:23.134417"], ["id", 2]]
  â†³ app/controllers/users_controller.rb:87:in `update'
  [1m[36mTRANSACTION (139.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:87:in `update'
Completed 200 OK in 159ms (Views: 0.3ms | ActiveRecord: 141.5ms | Allocations: 7100)


Started PUT "/users/2" for 127.0.0.1 at 2023-09-20 14:52:18 +0300
Processing by UsersController#update as */*
  Parameters: {"firstname"=>"Manager", "lastname"=>"Kimu", "id"=>"2", "user"=>{"firstname"=>"Manager", "lastname"=>"Kimu"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:86:in `update'
[31mUnpermitted parameters: :id, :user. Context: { controller: UsersController, action: update, request: #<ActionDispatch::Request:0x00007fd5f83b7c40>, params: {"firstname"=>"Manager", "lastname"=>"Kimu", "controller"=>"users", "action"=>"update", "id"=>"2", "user"=>{"firstname"=>"Manager", "lastname"=>"Kimu"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:87:in `update'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "man@truth.com"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:87:in `update'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "lastname" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["lastname", "Kimu"], ["updated_at", "2023-09-20 11:52:18.337531"], ["id", 2]]
  â†³ app/controllers/users_controller.rb:87:in `update'
  [1m[36mTRANSACTION (122.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:87:in `update'
Completed 200 OK in 134ms (Views: 0.3ms | ActiveRecord: 123.8ms | Allocations: 3702)


Started DELETE "/users/2" for 127.0.0.1 at 2023-09-20 14:53:01 +0300
Processing by UsersController#destroy as */*
  Parameters: {"firstname"=>"Manager", "lastname"=>"Kimu", "id"=>"2", "user"=>{"firstname"=>"Manager", "lastname"=>"Kimu"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:66:in `destroy'
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1054)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 14:53:31 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 330ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 980)


Started DELETE "/users/2" for 127.0.0.1 at 2023-09-20 14:53:52 +0300
Processing by UsersController#destroy as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"2", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:66:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:68:in `destroy'
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/users_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (114.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:68:in `destroy'
Completed 200 OK in 122ms (Views: 0.2ms | ActiveRecord: 115.3ms | Allocations: 2370)


Started DELETE "/users/7" for 127.0.0.1 at 2023-09-20 14:54:17 +0300
Processing by UsersController#destroy as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"7", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:66:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:74:in `destroy'
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 7]]
  â†³ app/controllers/users_controller.rb:74:in `destroy'
  [1m[36mTRANSACTION (111.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:74:in `destroy'
Completed 200 OK in 118ms (Views: 0.2ms | ActiveRecord: 112.3ms | Allocations: 2338)


Started POST "/drinks" for 127.0.0.1 at 2023-09-20 15:00:09 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"_json"=>[{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}], "drink"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 400 Bad Request in 37ms (ActiveRecord: 1.4ms | Allocations: 9641)


  
ActionController::ParameterMissing (param is missing or the value is empty: drink):
  
app/controllers/drinks_controller.rb:34:in `drink_params'
app/controllers/drinks_controller.rb:7:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-20 15:00:33 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"_json"=>[{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}], "drink"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 400 Bad Request in 3ms (ActiveRecord: 0.1ms | Allocations: 662)


  
ActionController::ParameterMissing (param is missing or the value is empty: drink):
  
app/controllers/drinks_controller.rb:34:in `drink_params'
app/controllers/drinks_controller.rb:7:in `create_drink'
Started POST "/drinks" for 127.0.0.1 at 2023-09-20 15:00:39 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mDrink Create (0.3ms)[0m  [1m[32mINSERT INTO "drinks" ("name", "brand", "capacity", "price", "manager_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "kibao"], ["brand", "spirit"], ["capacity", "750ml"], ["price", "850"], ["manager_id", "6"], ["created_at", "2023-09-20 12:00:39.322573"], ["updated_at", "2023-09-20 12:00:39.322573"]]
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
  [1m[36mTRANSACTION (105.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:12:in `create_drink'
Completed 201 Created in 222ms (Views: 0.7ms | ActiveRecord: 106.2ms | Allocations: 20236)


Started PUT "/drinks/3" for 127.0.0.1 at 2023-09-20 15:05:14 +0300
  
ActionController::RoutingError (No route matches [PUT] "/drinks/3"):
  
Started PUT "/drink/3" for 127.0.0.1 at 2023-09-20 15:05:24 +0300
  
AbstractController::ActionNotFound (The action 'update' could not be found for DrinksController):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started PUT "/drink/3" for 127.0.0.1 at 2023-09-20 15:05:56 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 31ms (Views: 0.4ms | ActiveRecord: 3.1ms | Allocations: 12335)


Started GET "/user" for 127.0.0.1 at 2023-09-20 15:06:12 +0300
Processing by UsersController#index as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 792)


Started DELETE "/drink/3" for 127.0.0.1 at 2023-09-20 15:06:38 +0300
  
AbstractController::ActionNotFound (The action 'destroy_drink' could not be found for DrinksController):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started DELETE "/drink/3" for 127.0.0.1 at 2023-09-20 15:07:05 +0300
Processing by DrinksController#destroy_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:46:in `destroy_drink'
Completed 401 Unauthorized in 31ms (Views: 0.4ms | ActiveRecord: 2.9ms | Allocations: 12320)


Started DELETE "/drink/3" for 127.0.0.1 at 2023-09-20 15:08:14 +0300
Processing by DrinksController#destroy_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:46:in `destroy_drink'
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1032)


Started DELETE "/drink/2" for 127.0.0.1 at 2023-09-20 15:08:18 +0300
Processing by DrinksController#destroy_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"2", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:46:in `destroy_drink'
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1031)


Started DELETE "/drink/2" for 127.0.0.1 at 2023-09-20 15:16:44 +0300
Processing by DrinksController#destroy_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"2", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.4ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:45:in `destroy_drink'
Completed 401 Unauthorized in 36ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 11636)


Started DELETE "/manager/6drink/2" for 127.0.0.1 at 2023-09-20 15:22:33 +0300
  
ActionController::RoutingError (No route matches [DELETE] "/manager/6drink/2"):
  
Started DELETE "/manager/6/drink/2" for 127.0.0.1 at 2023-09-20 15:22:39 +0300
  
ActionController::RoutingError (No route matches [DELETE] "/manager/6/drink/2"):
  
Started PUT "/manager/6/drink/2" for 127.0.0.1 at 2023-09-20 15:23:06 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"2", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 28ms (Views: 0.3ms | ActiveRecord: 4.9ms | Allocations: 12318)


Started PUT "/drinks/2/update" for 127.0.0.1 at 2023-09-20 15:26:25 +0300
  
ActionController::RoutingError (No route matches [PUT] "/drinks/2/update"):
  
Started PATCH "/drinks/2/update" for 127.0.0.1 at 2023-09-20 15:26:35 +0300
  
AbstractController::ActionNotFound (The action 'update' could not be found for DrinksController):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started PATCH "/drinks/2/update" for 127.0.0.1 at 2023-09-20 15:27:05 +0300
  
AbstractController::ActionNotFound (The action 'update_drinks' could not be found for DrinksController
Did you mean?  update_drink):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started PATCH "/drinks/2/update" for 127.0.0.1 at 2023-09-20 15:27:18 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"2", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 32ms (Views: 0.3ms | ActiveRecord: 3.1ms | Allocations: 12352)


Started PATCH "/drinks/2/update" for 127.0.0.1 at 2023-09-20 15:30:14 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"2", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 26ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 12326)


Started PATCH "/drinks/2/update" for 127.0.0.1 at 2023-09-20 15:31:18 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"2", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 121ms (Views: 0.3ms | ActiveRecord: 6.9ms | Allocations: 61788)


Started PATCH "/drinks/2/update" for 127.0.0.1 at 2023-09-20 15:33:06 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"2", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 24ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 12362)


Started PATCH "/drinks/2/update" for 127.0.0.1 at 2023-09-20 15:36:07 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"2", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 53ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 12370)


Started PATCH "/drinks/2/update" for 127.0.0.1 at 2023-09-20 15:36:34 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"2", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 82ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 61789)


Started DELETE "/drinks/2/delete" for 127.0.0.1 at 2023-09-20 15:39:54 +0300
Processing by DrinksController#destroy_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"2", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:48:in `destroy_drink'
Completed 401 Unauthorized in 31ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 12353)


Started DELETE "/drinks/3/delete" for 127.0.0.1 at 2023-09-20 15:40:04 +0300
Processing by DrinksController#destroy_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:48:in `destroy_drink'
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1048)


Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 15:40:42 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 25ms (Views: 0.2ms | ActiveRecord: 3.0ms | Allocations: 12385)


Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 15:41:46 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:33:in `update_drink'
Completed 401 Unauthorized in 65ms (Views: 0.3ms | ActiveRecord: 3.9ms | Allocations: 12330)


Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 15:42:38 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
Completed 401 Unauthorized in 62ms (Views: 0.2ms | ActiveRecord: 28.1ms | Allocations: 12859)


Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 15:43:38 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 37ms (Views: 0.3ms | ActiveRecord: 3.5ms | Allocations: 12348)


Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 15:47:57 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 2.4ms | Allocations: 14612)


  
NoMethodError (undefined method `user_id' for #<Drink:0x00007fb7b05aa7c0>):
  
app/controllers/drinks_controller.rb:35:in `update_drink'
Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 15:49:17 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 2.5ms | Allocations: 15502)


  
NoMethodError (undefined method `user' for #<Drink:0x00007fb7c4a47490>
Did you mean?  user_id):
  
app/models/drink.rb:10:in `user_id'
app/controllers/drinks_controller.rb:35:in `update_drink'
Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 15:51:29 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 29ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 12325)


Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 15:55:30 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 64ms (ActiveRecord: 1.8ms | Allocations: 28630)


  
NoMethodError (undefined method `authorized?' for #<DrinksController:0x000000000098d0>
Did you mean?  authorize!):
  
app/controllers/application_controller.rb:25:in `authorize_request'
Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 15:56:00 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 58ms (Views: 0.3ms | ActiveRecord: 3.7ms | Allocations: 43812)


Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 16:02:07 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 90ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 61754)


Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 16:07:20 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:32:in `update_drink'
Completed 401 Unauthorized in 25ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 12335)


Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 16:09:09 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:33:in `update_drink'
Completed 401 Unauthorized in 26ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 12514)


Started PUT "/drinks/3/update" for 127.0.0.1 at 2023-09-20 16:09:37 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850", "id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:33:in `update_drink'
Completed 401 Unauthorized in 79ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 61907)


Started POST "/drinks" for 127.0.0.1 at 2023-09-20 16:12:18 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"1850", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mDrink Create (0.4ms)[0m  [1m[32mINSERT INTO "drinks" ("name", "brand", "capacity", "price", "manager_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "red lebel"], ["brand", "whisky"], ["capacity", "750 ml"], ["price", "1850"], ["manager_id", "6"], ["created_at", "2023-09-20 13:12:18.602451"], ["updated_at", "2023-09-20 13:12:18.602451"]]
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mTRANSACTION (147.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
Completed 201 Created in 185ms (Views: 0.5ms | ActiveRecord: 150.5ms | Allocations: 17031)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:13:05 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"1850", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 29ms (Views: 7.9ms | ActiveRecord: 3.0ms | Allocations: 12975)


Started POST "/drinks/4" for 127.0.0.1 at 2023-09-20 16:13:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/drinks/4"):
  
Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:13:39 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1163)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:14:29 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
Completed 401 Unauthorized in 59ms (Views: 1.1ms | ActiveRecord: 3.7ms | Allocations: 12327)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:14:36 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.4ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.6ms | Allocations: 1757)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:16:21 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.4ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 42ms (Views: 11.1ms | ActiveRecord: 4.3ms | Allocations: 12952)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:16:29 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.4ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
Completed 401 Unauthorized in 7ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1277)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:16:49 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
Completed 401 Unauthorized in 97ms (Views: 0.4ms | ActiveRecord: 2.3ms | Allocations: 61908)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:18:42 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
Completed 401 Unauthorized in 53ms (Views: 0.3ms | ActiveRecord: 4.0ms | Allocations: 12351)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:19:10 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
Completed 401 Unauthorized in 74ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 61783)


Started GET "/drinks/4" for 127.0.0.1 at 2023-09-20 16:20:01 +0300
  
ActionController::RoutingError (No route matches [GET] "/drinks/4"):
  
Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:20:07 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.4ms | Allocations: 1794)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:23:24 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
Completed 401 Unauthorized in 35ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 12356)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:25:09 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:39:in `update_drink'
Completed 204 No Content in 31ms (ActiveRecord: 3.5ms | Allocations: 12307)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:25:18 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 9ms (Views: 4.8ms | ActiveRecord: 0.8ms | Allocations: 1762)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:26:04 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:39:in `update_drink'
Completed 204 No Content in 4ms (ActiveRecord: 0.4ms | Allocations: 969)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:27:04 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:39:in `update_drink'
Completed 204 No Content in 61ms (ActiveRecord: 7.6ms | Allocations: 12252)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:28:01 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red lebel", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:39:in `update_drink'
Completed 401 Unauthorized in 30ms (Views: 0.4ms | ActiveRecord: 3.1ms | Allocations: 12360)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 16:28:42 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 344ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 984)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:29:11 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.4ms | Allocations: 1777)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:29:45 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"500 ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"500 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 613)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:29:53 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"500 ml", "price"=>"850", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"500 ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.4ms | Allocations: 1716)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 16:30:36 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man4@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 338ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 554)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 16:30:42 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man4@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 351ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 768)


Started POST "/user" for 127.0.0.1 at 2023-09-20 16:31:08 +0300
  
ActionController::RoutingError (No route matches [POST] "/user"):
  
Started POST "/users" for 127.0.0.1 at 2023-09-20 16:31:11 +0300
  
ActionController::RoutingError (No route matches [POST] "/users"):
  
Started GET "/user" for 127.0.0.1 at 2023-09-20 16:31:16 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 782)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:31:54 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:39:in `update_drink'
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1031)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:36:58 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
Completed 401 Unauthorized in 26ms (Views: 0.4ms | ActiveRecord: 2.2ms | Allocations: 12319)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:39:33 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.4ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
Completed 401 Unauthorized in 36ms (Views: 0.3ms | ActiveRecord: 3.5ms | Allocations: 12319)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:39:54 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:38:in `update_drink'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:38:in `update_drink'
  [1m[36mDrink Update (0.4ms)[0m  [1m[33mUPDATE "drinks" SET "name" = ?, "brand" = ?, "capacity" = ?, "price" = ?, "updated_at" = ? WHERE "drinks"."id" = ?[0m  [["name", "kibao"], ["brand", "spirit"], ["capacity", "250ml"], ["price", "850"], ["updated_at", "2023-09-20 13:39:54.764974"], ["id", 4]]
  â†³ app/controllers/drinks_controller.rb:38:in `update_drink'
  [1m[36mTRANSACTION (142.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:38:in `update_drink'
Completed 200 OK in 181ms (Views: 0.6ms | ActiveRecord: 145.9ms | Allocations: 17630)


Started PUT "/drinks" for 127.0.0.1 at 2023-09-20 16:40:00 +0300
  
ActionController::RoutingError (No route matches [PUT] "/drinks"):
  
Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:40:04 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250ml", "price"=>"850", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250ml", "price"=>"850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms | Allocations: 1749)


Started PUT "/drinks" for 127.0.0.1 at 2023-09-20 16:43:58 +0300
  
ActionController::RoutingError (No route matches [PUT] "/drinks"):
  
Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:44:04 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
Completed 401 Unauthorized in 26ms (Views: 0.3ms | ActiveRecord: 2.2ms | Allocations: 12318)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:45:08 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
Completed 401 Unauthorized in 29ms (Views: 0.2ms | ActiveRecord: 3.0ms | Allocations: 12318)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:49:14 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"1000ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"1000ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
Completed 401 Unauthorized in 34ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 12350)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:49:32 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"1000ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"1000ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
Completed 401 Unauthorized in 84ms (Views: 0.5ms | ActiveRecord: 2.4ms | Allocations: 61788)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:50:08 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"1000ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"1000ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
Completed 401 Unauthorized in 27ms (Views: 0.4ms | ActiveRecord: 2.1ms | Allocations: 12357)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:50:21 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"1000ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"1000ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
  [1m[36mDrink Update (0.5ms)[0m  [1m[33mUPDATE "drinks" SET "capacity" = ?, "updated_at" = ? WHERE "drinks"."id" = ?[0m  [["capacity", "1000ml"], ["updated_at", "2023-09-20 13:50:21.962225"], ["id", 4]]
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
  [1m[36mTRANSACTION (456.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
Completed 200 OK in 510ms (Views: 0.6ms | ActiveRecord: 459.6ms | Allocations: 17650)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:50:43 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"1000ml", "price"=>"850", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"1000ml", "price"=>"850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.4ms | Allocations: 1753)


Started POST "/drinks/4" for 127.0.0.1 at 2023-09-20 16:51:19 +0300
  
ActionController::RoutingError (No route matches [POST] "/drinks/4"):
  
Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:51:24 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"red Label", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "id"=>"4", "drink"=>{"name"=>"red Label", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
  [1m[36mDrink Update (0.4ms)[0m  [1m[33mUPDATE "drinks" SET "name" = ?, "brand" = ?, "capacity" = ?, "price" = ?, "updated_at" = ? WHERE "drinks"."id" = ?[0m  [["name", "red Label"], ["brand", "whisky"], ["capacity", "1000 ml"], ["price", "1850"], ["updated_at", "2023-09-20 13:51:24.093346"], ["id", 4]]
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
  [1m[36mTRANSACTION (150.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
Completed 200 OK in 164ms (Views: 0.4ms | ActiveRecord: 151.7ms | Allocations: 3746)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:51:29 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"red Label", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850", "drink"=>{"name"=>"red Label", "brand"=>"whisky", "capacity"=>"1000 ml", "price"=>"1850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms | Allocations: 1714)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 16:52:07 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man3@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man3@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man3@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 328ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 974)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:52:29 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man3@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.3ms | Allocations: 1713)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:52:53 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
  [1m[36mDrink Update (0.3ms)[0m  [1m[33mUPDATE "drinks" SET "name" = ?, "brand" = ?, "capacity" = ?, "price" = ?, "updated_at" = ? WHERE "drinks"."id" = ?[0m  [["name", "kibao"], ["brand", "spirit"], ["capacity", "750ml"], ["price", "850"], ["updated_at", "2023-09-20 13:52:53.561239"], ["id", 4]]
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
  [1m[36mTRANSACTION (121.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:42:in `update_drink'
Completed 200 OK in 141ms (Views: 0.4ms | ActiveRecord: 122.3ms | Allocations: 3718)


Started PUT "/drinks" for 127.0.0.1 at 2023-09-20 16:53:09 +0300
  
ActionController::RoutingError (No route matches [PUT] "/drinks"):
  
Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:53:13 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.3ms | Allocations: 1712)


Started GET "/user" for 127.0.0.1 at 2023-09-20 16:53:42 +0300
Processing by UsersController#index as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 783)


Started GET "/user" for 127.0.0.1 at 2023-09-20 16:54:23 +0300
Processing by UsersController#index as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 1.6ms | Allocations: 3441)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 16:54:34 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 1.5ms | Allocations: 3477)


Started PUT "/drinks" for 127.0.0.1 at 2023-09-20 16:54:38 +0300
  
ActionController::RoutingError (No route matches [PUT] "/drinks"):
  
Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:54:44 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1163)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:54:58 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:39:in `update_drink'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:39:in `update_drink'
  [1m[36mDrink Update (0.4ms)[0m  [1m[33mUPDATE "drinks" SET "manager_id" = ?, "updated_at" = ? WHERE "drinks"."id" = ?[0m  [["manager_id", "5"], ["updated_at", "2023-09-20 13:54:58.240538"], ["id", 4]]
  â†³ app/controllers/drinks_controller.rb:39:in `update_drink'
  [1m[36mTRANSACTION (131.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:39:in `update_drink'
Completed 200 OK in 171ms (Views: 0.6ms | ActiveRecord: 135.4ms | Allocations: 15273)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:55:23 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "id"=>"4", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
Completed 401 Unauthorized in 25ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 12319)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 16:55:51 +0300
Error occurred while parsing request parameters.
Contents:

{
  "firstname": "kelvin",
  "lastname": "Kimutai",
  "email": "man4@truth.com",
  "password": "1111",
  "password_confirmation": "2222"
}

{
  "name": "kibao",
  "brand": "spirit",
  "capacity": "750ml",
  "price": "850"
}
Processing by AuthenticationController#login as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 157)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/authentication_controller.rb:4:in `login'
Started POST "/users/login" for 127.0.0.1 at 2023-09-20 16:55:58 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man4@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 325ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 921)


Started POST "/user" for 127.0.0.1 at 2023-09-20 16:56:17 +0300
  
ActionController::RoutingError (No route matches [POST] "/user"):
  
Started GET "/user" for 127.0.0.1 at 2023-09-20 16:56:21 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 781)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:56:37 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"4", "drink"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:36:in `update_drink'
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1030)


Started PUT "/drinks/4" for 127.0.0.1 at 2023-09-20 16:59:32 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"4", "drink"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
Completed 401 Unauthorized in 27ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 12318)


Started GET "/user" for 127.0.0.1 at 2023-09-20 16:59:42 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 792)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateDrinks (20230919144252)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "drinks"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230919144252"]]
  [1m[36mTRANSACTION (162.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateDrinks (20230919144252)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "drinks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "brand" varchar, "capacity" varchar, "price" varchar, "manager_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230919144252"]]
  [1m[36mTRANSACTION (139.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/drinks" for 127.0.0.1 at 2023-09-20 17:02:25 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250 ml", "price"=>"250", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"250 ml", "price"=>"250"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mDrink Create (0.3ms)[0m  [1m[32mINSERT INTO "drinks" ("name", "brand", "capacity", "price", "manager_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "kibao"], ["brand", "spirit"], ["capacity", "250 ml"], ["price", "250"], ["manager_id", 6], ["created_at", "2023-09-20 14:02:25.619801"], ["updated_at", "2023-09-20 14:02:25.619801"]]
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mTRANSACTION (130.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
Completed 201 Created in 160ms (Views: 0.5ms | ActiveRecord: 133.0ms | Allocations: 14534)


Started POST "/drinks" for 127.0.0.1 at 2023-09-20 17:03:03 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"250 ml", "price"=>"500", "drink"=>{"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"250 ml", "price"=>"500"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mDrink Create (0.5ms)[0m  [1m[32mINSERT INTO "drinks" ("name", "brand", "capacity", "price", "manager_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Red Label"], ["brand", "whisky"], ["capacity", "250 ml"], ["price", "500"], ["manager_id", 6], ["created_at", "2023-09-20 14:03:03.297221"], ["updated_at", "2023-09-20 14:03:03.297221"]]
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mTRANSACTION (189.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
Completed 201 Created in 200ms (Views: 0.4ms | ActiveRecord: 190.4ms | Allocations: 3062)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:03:06 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"250 ml", "price"=>"500", "drink"=>{"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"250 ml", "price"=>"500"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 1484)


Started PUT "/drinks/2" for 127.0.0.1 at 2023-09-20 17:03:43 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"2500", "id"=>"2", "drink"=>{"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"2500"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:38:in `update_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:38:in `update_drink'
  [1m[36mDrink Update (0.4ms)[0m  [1m[33mUPDATE "drinks" SET "capacity" = ?, "price" = ?, "updated_at" = ? WHERE "drinks"."id" = ?[0m  [["capacity", "750 ml"], ["price", "2500"], ["updated_at", "2023-09-20 14:03:43.981263"], ["id", 2]]
  â†³ app/controllers/drinks_controller.rb:38:in `update_drink'
  [1m[36mTRANSACTION (96.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:38:in `update_drink'
Completed 200 OK in 113ms (Views: 0.8ms | ActiveRecord: 97.5ms | Allocations: 3669)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:03:56 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"2500", "drink"=>{"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"2500"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 0.3ms | Allocations: 1420)


Started GET "/user" for 127.0.0.1 at 2023-09-20 17:04:12 +0300
Processing by UsersController#index as */*
  Parameters: {"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"2500", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 792)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:04:21 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"2500", "drink"=>{"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"2500"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:30:in `all_drinks'
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.4ms | Allocations: 1420)


Started PUT "/drinks/2" for 127.0.0.1 at 2023-09-20 17:04:39 +0300
Processing by DrinksController#update_drink as */*
  Parameters: {"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"1800", "id"=>"2", "drink"=>{"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"1800"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:35:in `update_drink'
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1028)


Started DELETE "/drinks/1" for 127.0.0.1 at 2023-09-20 17:04:53 +0300
Processing by DrinksController#destroy_drink as */*
  Parameters: {"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"1800", "id"=>"1", "drink"=>{"name"=>"Red Label", "brand"=>"whisky", "capacity"=>"750 ml", "price"=>"1800"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:52:in `destroy_drink'
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1028)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 17:05:24 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man4@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 328ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 939)


Started GET "/user" for 127.0.0.1 at 2023-09-20 17:05:39 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 752)


Started DELETE "/drinks/1" for 127.0.0.1 at 2023-09-20 17:05:54 +0300
Processing by DrinksController#destroy_drink as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"1", "drink"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:52:in `destroy_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:55:in `destroy_drink'
  [1m[36mDrink Destroy (0.4ms)[0m  [1m[31mDELETE FROM "drinks" WHERE "drinks"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/drinks_controller.rb:55:in `destroy_drink'
  [1m[36mTRANSACTION (108.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:55:in `destroy_drink'
Completed 200 OK in 117ms (Views: 0.3ms | ActiveRecord: 108.9ms | Allocations: 2343)


Started GET "/drinks/manager/6" for 127.0.0.1 at 2023-09-20 17:09:56 +0300
  
ArgumentError (Invalid route name, already in use: 'drinks_by_manager' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
https://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  
config/routes.rb:34:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/drinks/manager/6" for 127.0.0.1 at 2023-09-20 17:11:43 +0300
  
ArgumentError (Invalid route name, already in use: 'drinks_by_manager' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
https://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  
config/routes.rb:34:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/drinks/manager/6" for 127.0.0.1 at 2023-09-20 17:11:59 +0300
Processing by DrinksController#drinks_by_manager as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "manager_id"=>"6", "drink"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 2.7ms | Allocations: 12211)


  
NameError (undefined local variable or method `manager' for #<DrinksController:0x0000000002c650>
Did you mean?  manager_id):
  
app/controllers/drinks_controller.rb:36:in `drinks_by_manager'
Started GET "/drinks/manager/6" for 127.0.0.1 at 2023-09-20 17:12:19 +0300
Processing by DrinksController#drinks_by_manager as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "manager_id"=>"6", "drink"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.4ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/drinks_controller.rb:36:in `drinks_by_manager'
Completed 200 OK in 33ms (Views: 11.1ms | ActiveRecord: 3.4ms | Allocations: 12538)


Started GET "/drinks/manager/5" for 127.0.0.1 at 2023-09-20 17:12:41 +0300
Processing by DrinksController#drinks_by_manager as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "manager_id"=>"5", "drink"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ?[0m  [["manager_id", 5]]
  â†³ app/controllers/drinks_controller.rb:36:in `drinks_by_manager'
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 1200)


Started GET "/drinks/manager/5" for 127.0.0.1 at 2023-09-20 17:27:07 +0300
Processing by DrinksController#drinks_by_manager as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "manager_id"=>"5", "drink"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 401 Unauthorized in 17ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 9523)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 17:27:58 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 334ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 729)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 17:28:06 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 328ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 804)


Started GET "/user" for 127.0.0.1 at 2023-09-20 17:28:22 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 644)


Started GET "/user" for 127.0.0.1 at 2023-09-20 17:28:59 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 616)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 17:29:11 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 333ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 796)


Started GET "/user" for 127.0.0.1 at 2023-09-20 17:29:29 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 616)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:30:33 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 616)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:31:17 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 616)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:31:49 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 17ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 10063)


Started POST "/drinks" for 127.0.0.1 at 2023-09-20 17:32:23 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 616)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 17:32:34 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 329ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 984)


Started GET "/user" for 127.0.0.1 at 2023-09-20 17:32:59 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 782)


Started GET "/user" for 127.0.0.1 at 2023-09-20 17:33:03 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 616)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:34:28 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:29:in `all_drinks'
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.8ms | Allocations: 3035)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:34:38 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 616)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:36:16 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 21ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 10071)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:36:23 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 24ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 10070)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:40:32 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 54ms (Views: 0.4ms | ActiveRecord: 1.8ms | Allocations: 26818)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:42:43 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:29:in `all_drinks'
Completed 200 OK in 52ms (Views: 18.8ms | ActiveRecord: 3.5ms | Allocations: 44004)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:42:55 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:29:in `all_drinks'
Completed 200 OK in 82ms (Views: 14.6ms | ActiveRecord: 2.8ms | Allocations: 60727)


Started GET "/drinks/manager/6" for 127.0.0.1 at 2023-09-20 17:44:23 +0300
Processing by DrinksController#drinks_by_manager as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "manager_id"=>"6", "drink"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.5ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ? AND "drinks"."employee_id" = ?[0m  [["manager_id", 6], ["employee_id", 8]]
  â†³ app/controllers/drinks_controller.rb:38:in `drinks_by_manager'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.7ms | Allocations: 1345)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: drinks.employee_id):
  
app/controllers/drinks_controller.rb:38:in `drinks_by_manager'
Started GET "/drinks/manager/6" for 127.0.0.1 at 2023-09-20 17:47:37 +0300
Processing by DrinksController#drinks_by_manager as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "manager_id"=>"6", "drink"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.8ms | Allocations: 12295)


  
NameError (undefined local variable or method `drinks' for #<DrinksController:0x0000000000dd18>
Did you mean?  drinks_url):
  
app/controllers/drinks_controller.rb:34:in `drinks_by_manager'
Started GET "/drinks/manager" for 127.0.0.1 at 2023-09-20 17:54:10 +0300
Processing by DrinksController#drinks_added_by_manager as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:37:in `drinks_added_by_manager'
  [1m[36mDrink Load (0.3ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/drinks_controller.rb:42:in `drinks_added_by_manager'
Completed 200 OK in 51ms (Views: 8.1ms | ActiveRecord: 1.8ms | Allocations: 14936)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 17:54:59 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 327ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 955)


Started GET "/user" for 127.0.0.1 at 2023-09-20 17:55:20 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"man1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 799)


Started POST "/employee" for 127.0.0.1 at 2023-09-20 17:56:10 +0300
  
ActionController::RoutingError (No route matches [POST] "/employee"):
  
Started POST "/employees" for 127.0.0.1 at 2023-09-20 17:56:17 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f28d0f93e68>, params: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:56:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp2@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:56:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:56:in `create_employee'
Completed 422 Unprocessable Entity in 1016ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 609905)


Started POST "/employees" for 127.0.0.1 at 2023-09-20 17:56:25 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f28c4179410>, params: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:56:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp2@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:56:in `create_employee'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "kelvin"], ["lastname", "Kimutai"], ["role", "Employee"], ["email", "emp2@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-20 14:56:26.031379"], ["updated_at", "2023-09-20 14:56:26.031379"], ["manager_id", 3], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:56:in `create_employee'
  [1m[36mTRANSACTION (165.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:56:in `create_employee'
Completed 201 Created in 499ms (Views: 0.6ms | ActiveRecord: 166.1ms | Allocations: 3664)


Started POST "/users/login" for 127.0.0.1 at 2023-09-20 17:56:51 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp2@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 329ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 764)


Started GET "/user" for 127.0.0.1 at 2023-09-20 17:57:07 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 755)


Started GET "/drinks" for 127.0.0.1 at 2023-09-20 17:57:21 +0300
Processing by DrinksController#all_drinks as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.2ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks"[0m
  â†³ app/controllers/drinks_controller.rb:29:in `all_drinks'
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1325)


Started GET "/drinks/manager" for 127.0.0.1 at 2023-09-20 17:57:29 +0300
Processing by DrinksController#drinks_added_by_manager as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "drink"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:37:in `drinks_added_by_manager'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ?[0m  [["manager_id", 3]]
  â†³ app/controllers/drinks_controller.rb:42:in `drinks_added_by_manager'
Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 0.5ms | Allocations: 1756)


Started GET "/drinks/manager/6" for 127.0.0.1 at 2023-09-20 17:57:46 +0300
Processing by DrinksController#drinks_by_manager as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "manager_id"=>"6", "drink"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ?[0m  [["manager_id", 6]]
  â†³ app/controllers/drinks_controller.rb:55:in `drinks_by_manager'
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 1344)


Started GET "/drinks/manager/4" for 127.0.0.1 at 2023-09-20 17:57:52 +0300
Processing by DrinksController#drinks_by_manager as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "manager_id"=>"4", "drink"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ?[0m  [["manager_id", 4]]
  â†³ app/controllers/drinks_controller.rb:55:in `drinks_by_manager'
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 1221)


Started GET "/user" for 127.0.0.1 at 2023-09-20 17:58:09 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"kelvin", "lastname"=>"Kimutai", "email"=>"emp2@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 752)


Started POST "/drinks" for 127.0.0.1 at 2023-09-20 17:58:37 +0300
Processing by DrinksController#create_drink as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mDrink Create (0.4ms)[0m  [1m[32mINSERT INTO "drinks" ("name", "brand", "capacity", "price", "manager_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "kibao"], ["brand", "spirit"], ["capacity", "750ml"], ["price", "850"], ["manager_id", 3], ["created_at", "2023-09-20 14:58:37.198740"], ["updated_at", "2023-09-20 14:58:37.198740"]]
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
  [1m[36mTRANSACTION (123.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/drinks_controller.rb:14:in `create_drink'
Completed 201 Created in 133ms (Views: 0.4ms | ActiveRecord: 124.2ms | Allocations: 3380)


Started GET "/drinks/3" for 127.0.0.1 at 2023-09-20 17:58:57 +0300
  
ActionController::RoutingError (No route matches [GET] "/drinks/3"):
  
Started GET "/drinks/manager/3" for 127.0.0.1 at 2023-09-20 17:59:05 +0300
Processing by DrinksController#drinks_by_manager as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "manager_id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ?[0m  [["manager_id", 3]]
  â†³ app/controllers/drinks_controller.rb:55:in `drinks_by_manager'
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 1341)


Started GET "/drinks/manager/3" for 127.0.0.1 at 2023-09-20 17:59:13 +0300
Processing by DrinksController#drinks_by_manager as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "manager_id"=>"3", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ?[0m  [["manager_id", 3]]
  â†³ app/controllers/drinks_controller.rb:55:in `drinks_by_manager'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 1344)


Started GET "/drinks/manager" for 127.0.0.1 at 2023-09-20 17:59:18 +0300
Processing by DrinksController#drinks_added_by_manager as */*
  Parameters: {"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850", "drink"=>{"name"=>"kibao", "brand"=>"spirit", "capacity"=>"750ml", "price"=>"850"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/drinks_controller.rb:37:in `drinks_added_by_manager'
  [1m[36mDrink Load (0.1ms)[0m  [1m[34mSELECT "drinks".* FROM "drinks" WHERE "drinks"."manager_id" = ?[0m  [["manager_id", 3]]
  â†³ app/controllers/drinks_controller.rb:42:in `drinks_added_by_manager'
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 1894)


