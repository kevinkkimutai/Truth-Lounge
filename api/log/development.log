  [1m[35m (128.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (183.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (204.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-09-16 11:18:13.144737"], ["updated_at", "2023-09-16 11:18:13.144737"]]
  [1m[36mTRANSACTION (159.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/register" for 127.0.0.1 at 2023-09-16 14:27:13 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:2:in `<class:User>'
app/models/user.rb:1:in `<main>'
Started POST "/users/register" for 127.0.0.1 at 2023-09-16 14:28:53 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "user"=>{"name"=>"Kelvin", "email"=>"kim@g.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007fbc0ca624b0>, params: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"name"=>"Kelvin", "email"=>"kim@g.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kelvin"], ["email", "kim@g.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-16 11:28:53.637816"], ["updated_at", "2023-09-16 11:28:53.637816"]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (156.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 201 Created in 572ms (Views: 1.0ms | ActiveRecord: 157.6ms | Allocations: 41473)


Started POST "/users/login" for 127.0.0.1 at 2023-09-16 14:29:25 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "authentication"=>{"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 325ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 941)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-16 14:30:53 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "user"=>{"name"=>"Kelvin", "email"=>"kim@g.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `reset_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:18:in `reset_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "kim@g.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:18:in `reset_password'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-16 11:30:53.921273"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:18:in `reset_password'
  [1m[36mTRANSACTION (111.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:18:in `reset_password'
Completed 200 OK in 128ms (Views: 0.5ms | ActiveRecord: 113.1ms | Allocations: 2991)


Started PUT "/update_password/B3bWza_nf3uvBtJRXotWYA" for 127.0.0.1 at 2023-09-16 14:32:30 +0300
Processing by UsersController#update_password as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"name"=>"Kelvin", "email"=>"kim@g.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:26:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:28:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "kim@g.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:28:in `update_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-16 11:32:30.738578"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:28:in `update_password'
  [1m[36mTRANSACTION (159.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:28:in `update_password'
Completed 200 OK in 507ms (Views: 0.3ms | ActiveRecord: 160.1ms | Allocations: 3176)


Started POST "/users/login" for 127.0.0.1 at 2023-09-16 14:34:35 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "authentication"=>{"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 321ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 744)


Started POST "/users/login" for 127.0.0.1 at 2023-09-16 14:34:44 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "authentication"=>{"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 339ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 560)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (116.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (109.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 11:59:50 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AuthenticationController#login as */*
  Parameters: {"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]", "authentication"=>{"name"=>"Kelvin", "email"=>"kim@g.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@g.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 52ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 22335)


Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:00:01 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
....permit(:firstname, :lastname :email, :password, :password_c...
...                              ^
/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
...e, :lastname :email, :password, :password_confirmation)
...                              ^
):
  
app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:02:27 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
....permit(:firstname, :lastname :email, :password, :password_c...
...                              ^
/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
...e, :lastname :email, :password, :password_confirmation)
...                              ^
):
  
app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
app/controllers/users_controller.rb:38: syntax error, unexpected ':', expecting ')'
app/controllers/users_controller.rb:38: syntax error, unexpected ',', expecting '.' or &. or :: or '['
Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:02:56 +0300
Processing by UsersController#create as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007f2b10c29c90>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["email", "kim@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 09:02:56.789318"], ["updated_at", "2023-09-18 09:02:56.789318"]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (159.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 201 Created in 531ms (Views: 0.5ms | ActiveRecord: 161.6ms | Allocations: 20269)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 12:03:22 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 325ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 943)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 12:05:25 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/authentication_controller.rb:7: syntax error, unexpected local variable or method, expecting '}'
...  render json: {message: ""user.firstname" loggedin successf...
...                           ^~~~
/home/kevin/proj/Truth-Lounge/api/app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
...lly",user: user, token: token }
...                              ^
):
  
app/controllers/authentication_controller.rb:7: syntax error, unexpected local variable or method, expecting '}'
app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
app/controllers/authentication_controller.rb:7: syntax error, unexpected local variable or method, expecting '}'
app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 12:06:20 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/authentication_controller.rb:7: syntax error, unexpected tLABEL_END, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
...     render json: {message: "":user user.firstname" loggedin...
...                             ^~
/home/kevin/proj/Truth-Lounge/api/app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
...lly",user: user, token: token }
...                              ^
):
  
app/controllers/authentication_controller.rb:7: syntax error, unexpected tLABEL_END, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
app/controllers/authentication_controller.rb:7: syntax error, unexpected tLABEL_END, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/authentication_controller.rb:7: syntax error, unexpected '}', expecting `end'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 12:14:06 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 342ms (Views: 0.6ms | ActiveRecord: 1.4ms | Allocations: 4071)


Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:14:44 +0300
Processing by UsersController#create as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.trut.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.trut.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007f2b00628590>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.trut.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.trut.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.trut.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 3619ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1296840)


Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:14:55 +0300
Processing by UsersController#create as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007f2af8079430>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 346ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2371)


Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:15:12 +0300
Processing by UsersController#create as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007f2ae4279050>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["email", "kirui@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 09:15:12.644103"], ["updated_at", "2023-09-18 09:15:12.644103"]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (136.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 201 Created in 468ms (Views: 0.4ms | ActiveRecord: 137.4ms | Allocations: 2818)


Started POST "/users/register" for 127.0.0.1 at 2023-09-18 12:16:44 +0300
Processing by UsersController#create as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007f2ae4146b60>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["email", "kirui@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 09:16:45.116774"], ["updated_at", "2023-09-18 09:16:45.116774"]]
  â†³ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (99.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:6:in `create'
Completed 201 Created in 434ms (Views: 0.5ms | ActiveRecord: 101.3ms | Allocations: 5057)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (164.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "role" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (92.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 13:10:20 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230918093922_create_ceos.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:93:in `execute_if_updated'
activerecord (7.0.8) lib/active_record/migration.rb:634:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/ceo" for 127.0.0.1 at 2023-09-18 13:10:36 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230918093922_create_ceos.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/ceo" for 127.0.0.1 at 2023-09-18 13:11:53 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230918093922_create_ceos.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (146.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (385.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (125.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/ceo" for 127.0.0.1 at 2023-09-18 13:12:27 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/ceo"):
  
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:12:49 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 148)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:13:43 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 111)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:14:15 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b03a12978>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 354ms (ActiveRecord: 4.8ms | Allocations: 4609)


  
NoMethodError (undefined method `role=' for #<User:0x00007f2b0387b7e0>):
  
app/controllers/users_controller.rb:7:in `create_ceo'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "ceos"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (1.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (197.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (108.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:17:48 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b02ae91b8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 359ms (ActiveRecord: 0.8ms | Allocations: 4589)


  
NoMethodError (undefined method `role=' for #<User:0x00007f2b0365ca90>):
  
app/controllers/users_controller.rb:7:in `create_ceo'
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:18:11 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b03438138>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 333ms (ActiveRecord: 0.0ms | Allocations: 2666)


  
NoMethodError (undefined method `role=' for #<User:0x00007f2b03427108>):
  
app/controllers/users_controller.rb:7:in `create_ceo'
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:18:36 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b032af280>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kirui@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 337ms (ActiveRecord: 0.0ms | Allocations: 2669)


  
NoMethodError (undefined method `role=' for #<User:0x00007f2b032a0b18>):
  
app/controllers/users_controller.rb:7:in `create_ceo'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "ceos"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (130.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (101.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "role" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (126.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (104.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:21:14 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b02810090>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
Completed 422 Unprocessable Entity in 438ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 17449)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:21:36 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2ae419b638>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
Completed 422 Unprocessable Entity in 349ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 5031)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:22:07 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :password_confirm, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2b0209f720>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
Completed 422 Unprocessable Entity in 360ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2525)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:22:29 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2ae411ed90>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "CEO"], ["email", "kirui@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 10:22:30.288527"], ["updated_at", "2023-09-18 10:22:30.288527"]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mTRANSACTION (161.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
Completed 201 Created in 516ms (Views: 0.6ms | ActiveRecord: 162.0ms | Allocations: 2973)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 13:22:49 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f2ae409b288>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "CEO"], ["email", "kim@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 10:22:49.948806"], ["updated_at", "2023-09-18 10:22:49.948806"]]
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
  [1m[36mTRANSACTION (151.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create_ceo'
Completed 201 Created in 485ms (Views: 0.4ms | ActiveRecord: 151.8ms | Allocations: 2901)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 13:25:12 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kirui@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kirui@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 326ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 936)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 13:25:22 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 328ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 754)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 13:26:26 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 137)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 13:26:57 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 111)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 13:27:12 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :password_confirm, :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f2b03cc2970>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirm"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
Completed 422 Unprocessable Entity in 346ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 5016)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 13:27:24 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f2b03ae3f78>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "kimm@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 10:27:25.333115"], ["updated_at", "2023-09-18 10:27:25.333115"]]
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
  [1m[36mTRANSACTION (143.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:20:in `create_manager'
Completed 201 Created in 478ms (Views: 0.5ms | ActiveRecord: 143.9ms | Allocations: 2967)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:28:12 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f2b03a36c10>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
Completed 422 Unprocessable Entity in 345ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 5073)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:30:29 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimdm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimdm@ceo.truth.com"}}
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f2b03730958>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimdm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimdm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimdm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kimdm@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 10:30:29.824924"], ["updated_at", "2023-09-18 10:30:29.824924"]]
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
  [1m[36mTRANSACTION (99.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:32:in `create_employee'
Completed 201 Created in 439ms (Views: 0.5ms | ActiveRecord: 101.7ms | Allocations: 5465)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:33:43 +0300
  
NameError (undefined local variable or method `load_and_authorize_resource' for UsersController:Class):
  
app/controllers/users_controller.rb:3:in `<class:UsersController>'
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:36:18 +0300
  
NameError (undefined local variable or method `load_and_authorize_resource' for UsersController:Class):
  
app/controllers/users_controller.rb:3:in `<class:UsersController>'
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 13:36:42 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 345ms (Views: 1.1ms | ActiveRecord: 1.7ms | Allocations: 7886)


Started POST "/employee" for 127.0.0.1 at 2023-09-18 13:37:20 +0300
  
ActionController::RoutingError (No route matches [POST] "/employee"):
  
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:37:24 +0300
  
NameError (undefined local variable or method `load_and_authorize_resource' for UsersController:Class):
  
app/controllers/users_controller.rb:3:in `<class:UsersController>'
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:38:42 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.1ms | Allocations: 1859)


  
NoMethodError (undefined method `authorize_resource' for #<UsersController:0x00000000045948>
Did you mean?  authorize_request):
  
activesupport (7.0.8) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:39:33 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.5ms | Allocations: 1925)


  
NoMethodError (undefined method `authorize_resource' for #<UsersController:0x00000000008b88>
Did you mean?  authorize_request):
  
activesupport (7.0.8) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:39:41 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
Completed 500 Internal Server Error in 49ms (ActiveRecord: 0.7ms | Allocations: 2232)


  
NameError (undefined local variable or method `current_user' for #<UsersController:0x0000000000c5f8>
Did you mean?  current_ability):
  
cancancan (3.5.0) lib/cancan/controller_additions.rb:354:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:138:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:78:in `load_collection?'
cancancan (3.5.0) lib/cancan/controller_resource_loader.rb:19:in `load_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:33:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:41:27 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.9ms | Allocations: 1905)


  
NoMethodError (undefined method `authenticate_user!' for #<UsersController:0x0000000000fe38>
Did you mean?  authorize_request):
  
activesupport (7.0.8) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:43:56 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 2.0ms | Allocations: 20171)


  
NoMethodError (undefined method `authorize_resource' for #<UsersController:0x00000000013858>
Did you mean?  authorize_request):
  
activesupport (7.0.8) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:44:06 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameters: :role, :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcc7453d278>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim1m@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim1m@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kim1m@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 10:44:06.864122"], ["updated_at", "2023-09-18 10:44:06.864122"]]
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mTRANSACTION (111.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
Completed 201 Created in 650ms (Views: 1.1ms | ActiveRecord: 114.6ms | Allocations: 25017)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:45:31 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.1ms | Allocations: 4963)


  
NameError (undefined local variable or method `current_user' for #<UsersController:0x0000000001ab30>
Did you mean?  @current_user
               @current_user_id):
  
cancancan (3.5.0) lib/cancan/controller_additions.rb:354:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:138:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:78:in `load_collection?'
cancancan (3.5.0) lib/cancan/controller_resource_loader.rb:19:in `load_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:33:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:46:36 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.4ms | Allocations: 4987)


  
NameError (undefined local variable or method `current_user' for #<UsersController:0x0000000001e4d8>
Did you mean?  @current_user
               @current_user_id):
  
cancancan (3.5.0) lib/cancan/controller_additions.rb:354:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:138:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:78:in `load_collection?'
cancancan (3.5.0) lib/cancan/controller_resource_loader.rb:19:in `load_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:33:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:46:53 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "role"=>"CEO", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 2.0ms | Allocations: 4975)


  
NameError (undefined local variable or method `current_user' for #<UsersController:0x00000000021db8>
Did you mean?  @current_user
               @current_user_id):
  
cancancan (3.5.0) lib/cancan/controller_additions.rb:354:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:138:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:78:in `load_collection?'
cancancan (3.5.0) lib/cancan/controller_resource_loader.rb:19:in `load_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:33:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:48:09 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.1ms | Allocations: 2611)


  
NameError (undefined local variable or method `current_user' for #<UsersController:0x00000000021e58>
Did you mean?  @current_user
               @current_user_id):
  
cancancan (3.5.0) lib/cancan/controller_additions.rb:354:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:138:in `current_ability'
cancancan (3.5.0) lib/cancan/controller_resource.rb:78:in `load_collection?'
cancancan (3.5.0) lib/cancan/controller_resource_loader.rb:19:in `load_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:33:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:53:20 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.1ms | Allocations: 4535)


  
NameError (uninitialized constant Ability::Employee):
  
app/models/ability.rb:11:in `initialize'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:55:28 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 662ms (ActiveRecord: 1.3ms | Allocations: 610171)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:57:11 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.3ms | Allocations: 4606)


  
NameError (uninitialized constant Ability::Employee):
  
app/models/ability.rb:11:in `initialize'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (208.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:59:10 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.5ms | Allocations: 3673)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 13:59:46 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim0m@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 409ms (ActiveRecord: 0.9ms | Allocations: 625901)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:00:00 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 357ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 19653)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:00:33 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 1193)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:00:36 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1192)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:08:30 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.9ms | Allocations: 5570)


  
NoMethodError (undefined method `Manager?' for #<User:0x00007f787c49d350>
Did you mean?  manager
               manager=):
  
app/models/ability.rb:10:in `initialize'
Started POST "/lusers/login" for 127.0.0.1 at 2023-09-18 14:09:21 +0300
  
ActionController::RoutingError (No route matches [POST] "/lusers/login"):
  
Started POST "/luser/login" for 127.0.0.1 at 2023-09-18 14:09:29 +0300
  
ActionController::RoutingError (No route matches [POST] "/luser/login"):
  
Started POST "/lusers/login" for 127.0.0.1 at 2023-09-18 14:10:01 +0300
  
ActionController::RoutingError (No route matches [POST] "/lusers/login"):
  
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:10:20 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 342ms (Views: 0.6ms | ActiveRecord: 1.8ms | Allocations: 7891)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:10:29 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 326ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 756)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:11:02 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.3ms | Allocations: 2505)


  
NameError (uninitialized constant Ability::Manager):
  
app/models/ability.rb:9:in `initialize'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:21:14 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.9ms | Allocations: 4393)


  
NameError (uninitialized constant Ability::Manager):
  
app/models/ability.rb:9:in `initialize'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:22:06 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.5ms | Allocations: 4541)


  
NameError (uninitialized constant Ability::Manager):
  
app/models/ability.rb:9:in `initialize'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:23:05 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.9ms | Allocations: 3589)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:23:38 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 415ms (ActiveRecord: 1.0ms | Allocations: 625794)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:24:06 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 360ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 19654)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:24:24 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 330ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 771)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:24:59 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimsm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1207)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:25:26 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 326ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 754)


Started POST "/manager" for 127.0.0.1 at 2023-09-18 14:25:47 +0300
  
ActionController::RoutingError (No route matches [POST] "/manager"):
  
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:25:50 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1185)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:33:19 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.6ms | Allocations: 3456)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:33:41 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1208)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:34:41 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.3ms | Allocations: 3581)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:35:16 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1187)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:36:35 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.3ms | Allocations: 3555)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:37:20 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 475ms (ActiveRecord: 1.9ms | Allocations: 625811)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:39:32 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 599ms (ActiveRecord: 0.9ms | Allocations: 625832)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:40:23 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 357ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 19653)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:40:51 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 1210)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 14:43:15 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 406ms (ActiveRecord: 0.9ms | Allocations: 625791)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:43:45 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimd@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 1230)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:44:39 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 336ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 19656)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:45:04 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 1188)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:45:14 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 1187)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:45:32 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 420ms (ActiveRecord: 0.9ms | Allocations: 625803)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:49:21 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.0ms | Allocations: 3614)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:49:47 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 403ms (ActiveRecord: 1.3ms | Allocations: 625816)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:51:20 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimssm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 416ms (ActiveRecord: 1.1ms | Allocations: 625791)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 14:53:17 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 359ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 19653)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:53:49 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 119)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:53:54 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1211)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:55:55 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 429ms (ActiveRecord: 1.4ms | Allocations: 625800)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 14:57:17 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 417ms (ActiveRecord: 1.2ms | Allocations: 625843)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:00:36 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 402ms (ActiveRecord: 1.1ms | Allocations: 625918)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:08:44 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcf94ba1448>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 729ms (ActiveRecord: 1.0ms | Allocations: 646582)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
app/controllers/users_controller.rb:33:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:10:11 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcfa41d13e0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 347ms (ActiveRecord: 2.4ms | Allocations: 4137)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
app/controllers/users_controller.rb:36:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:13:47 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcf8c0c7160>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
Completed 422 Unprocessable Entity in 343ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 6404)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:13:59 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcf95ebde78>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimmo@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kimmo@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 12:13:59.978545"], ["updated_at", "2023-09-18 12:13:59.978545"]]
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
  [1m[36mTRANSACTION (95.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:37:in `create_employee'
Completed 201 Created in 429ms (Views: 0.5ms | ActiveRecord: 96.6ms | Allocations: 4073)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:14:48 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007fcf95e45338>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimmo2@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kimmo2@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 12:14:48.535819"], ["updated_at", "2023-09-18 12:14:48.535819"]]
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
  [1m[36mTRANSACTION (114.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:33:in `create_employee'
Completed 201 Created in 461ms (Views: 0.9ms | ActiveRecord: 116.3ms | Allocations: 6669)


Started GET "/show/3" for 127.0.0.1 at 2023-09-18 15:20:43 +0300
  
ActionController::RoutingError (No route matches [GET] "/show/3"):
  
Started GET "/man/3" for 127.0.0.1 at 2023-09-18 15:20:55 +0300
Processing by UsersController#show as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.5ms | Allocations: 4190)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:23:42 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.6ms | Allocations: 4122)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:24:04 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.4ms | Allocations: 3591)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:24:11 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 1262)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:24:28 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmo2@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 422ms (ActiveRecord: 1.4ms | Allocations: 625709)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 15:25:49 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 346ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 19697)


Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:26:03 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 1263)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/managers/3/employeesStarted%20GET%20%22/managers/3/employees%22%20for%20127.0.0.1%20at%202023-09-18%2015:24:28%20+0300%20ActiveRecord::SchemaMigration%20Pluck%20(0.3ms)%20SELECT%20%22schema_migrations%22.%22version%22%20FROM%20%22schema_migrations%22%20ORDER%20BY%20%22schema_migrations%22.%22version%22%20ASC%20Processing%20by%20UsersController%23employees_by_manager%20as%20*/*%20Parameters:%20%7B%22firstname%22=%3E%22Kelvin%22,%20%22lastname%22=%3E%22kirui%22,%20%22email%22=%3E%22kimmo2@ceo.truth.com%22,%20%22password%22=%3E%22[FILTERED]%22,%20%22password_confirmation%22=%3E%22[FILTERED]%22,%20%22id%22=%3E%223%22,%20%22user%22=%3E%7B%22firstname%22=%3E%22Kelvin%22,%20%22lastname%22=%3E%22kirui%22,%20%22email%22=%3E%22kimmo2@ceo.truth.com%22%7D%7D%20User%20Load%20(0.2ms)%20SELECT%20%22users%22.*%20FROM%20%22users%22%20WHERE%20%22users%22.%22id%22%20=%20?%20LIMIT%20?%20[[%22id%22,%203],%20[%22LIMIT%22,%201]]%20Completed%20500%20Internal%20Server%20Error%20in%20422ms%20(ActiveRecord:%201.4ms%20%7C%20Allocations:%20625709)%20" for 127.0.0.1 at 2023-09-18 15:29:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/managers/3/employeesStarted%20GET%20%22/managers/3/employees%22%20for%20127.0.0.1%20at%202023-09-18%2015:24:28%20+0300%20ActiveRecord::SchemaMigration%20Pluck%20(0.3ms)%20SELECT%20%22schema_migrations%22.%22version%22%20FROM%20%22schema_migrations%22%20ORDER%20BY%20%22schema_migrations%22.%22version%22%20ASC%20Processing%20by%20UsersController%23employees_by_manager%20as%20*/*%20Parameters:%20%7B%22firstname%22=%3E%22Kelvin%22,%20%22lastname%22=%3E%22kirui%22,%20%22email%22=%3E%22kimmo2@ceo.truth.com%22,%20%22password%22=%3E%22[FILTERED]%22,%20%22password_confirmation%22=%3E%22[FILTERED]%22,%20%22id%22=%3E%223%22,%20%22user%22=%3E%7B%22firstname%22=%3E%22Kelvin%22,%20%22lastname%22=%3E%22kirui%22,%20%22email%22=%3E%22kimmo2@ceo.truth.com%22%7D%7D%20User%20Load%20(0.2ms)%20SELECT%20%22users%22.*%20FROM%20%22users%22%20WHERE%20%22users%22.%22id%22%20=%20"):
  
Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 15:29:47 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.6ms | Allocations: 3667)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 15:33:47 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 156)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 15:33:58 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms | Allocations: 3579)


  
CanCan::AccessDenied (You are not authorized to access this page.):
  
cancancan (3.5.0) lib/cancan/ability.rb:180:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_additions.rb:339:in `authorize!'
cancancan (3.5.0) lib/cancan/controller_resource.rb:40:in `authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:34:in `load_and_authorize_resource'
cancancan (3.5.0) lib/cancan/controller_resource.rb:17:in `block in add_before_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:467:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:34:16 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.1ms | Allocations: 2878)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x000000000111c0>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:40:in `create_employee'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 15:34:29 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 346ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 929)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:35:02 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.1ms | Allocations: 2865)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000011300>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:40:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:35:20 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.5ms | Allocations: 3417)


  
ArgumentError (wrong number of arguments (given 1, expected 2+)):
  
app/controllers/users_controller.rb:40:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:35:33 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 4.0ms | Allocations: 5220)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000018740>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:40:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:38:13 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 71ms (ActiveRecord: 1.1ms | Allocations: 40105)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000008de0>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:41:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:38:25 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.4ms | Allocations: 4705)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x0000000000c8f0>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:41:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:38:47 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.5ms | Allocations: 3021)


  
ArgumentError (wrong number of arguments (given 1, expected 2+)):
  
app/controllers/users_controller.rb:41:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:39:07 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:14:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5d8caf550>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 340ms (ActiveRecord: 1.2ms | Allocations: 4973)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000013bf0>
Did you mean?  authorize!):
  
app/controllers/users_controller.rb:43:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:55:53 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:56:37 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:34: syntax error, unexpected `end', expecting end-of-input
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:56:52 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:57:50 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:27: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:27: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:27: syntax error, unexpected `end', expecting end-of-input
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:58:28 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:35: syntax error, unexpected `end', expecting end-of-input
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 15:59:26 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimmw@ceo.truth.com"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.6ms | Allocations: 193)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/application_controller.rb:17:in `authenticated?'
app/controllers/application_controller.rb:9:in `authorize_request'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:00:04 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 331ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 3063)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:00:37 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 152)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/application_controller.rb:17:in `authenticated?'
app/controllers/application_controller.rb:9:in `authorize_request'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:01:34 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/application_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/application_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'
app/controllers/application_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:1:in `<main>'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:01:46 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 2.0ms | Allocations: 193)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/application_controller.rb:17:in `authenticated?'
app/controllers/application_controller.rb:9:in `authorize_request'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:04:24 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 14ms (Views: 0.5ms | ActiveRecord: 1.7ms | Allocations: 3000)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:04:50 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 10ms (Views: 0.5ms | ActiveRecord: 2.0ms | Allocations: 2876)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:04:59 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5d9213398>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 347ms (ActiveRecord: 2.1ms | Allocations: 4983)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x0000000003b790>
Did you mean?  authorize!
               authorized?):
  
app/controllers/users_controller.rb:43:in `create_employee'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:07:52 +0300
  
SyntaxError (/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:8: syntax error, unexpected `end'
  end
  ^~~
/home/kevin/proj/Truth-Lounge/api/app/controllers/users_controller.rb:94: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:8: syntax error, unexpected `end'
app/controllers/users_controller.rb:94: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:8: syntax error, unexpected `end'
app/controllers/users_controller.rb:94: syntax error, unexpected end-of-input, expecting `end'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:08:29 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.3ms | Allocations: 3017)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:08:54 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5cc19b2b0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 335ms (ActiveRecord: 0.1ms | Allocations: 2705)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000042e50>
Did you mean?  authorize!
               authorized?):
  
app/controllers/users_controller.rb:47:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:09:39 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5d01e1ae0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}} }[0m
Completed 500 Internal Server Error in 346ms (ActiveRecord: 2.4ms | Allocations: 4963)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x00000000046a50>
Did you mean?  authorize!
               authorized?):
  
app/controllers/users_controller.rb:47:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:09:55 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5dcec8798>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:47:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kimms@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:47:in `create_employee'
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kimms@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:09:55.453630"], ["updated_at", "2023-09-18 13:09:55.453630"]]
  â†³ app/controllers/users_controller.rb:47:in `create_employee'
  [1m[36mTRANSACTION (118.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:47:in `create_employee'
Completed 201 Created in 475ms (Views: 0.5ms | ActiveRecord: 122.2ms | Allocations: 6292)


Started GET "/managers/3/employees" for 127.0.0.1 at 2023-09-18 16:10:32 +0300
Processing by UsersController#employees_by_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "id"=>"3", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `employees_by_manager'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."manager_id" = ?[0m  [["manager_id", 3]]
  â†³ app/controllers/users_controller.rb:13:in `employees_by_manager'
Completed 500 Internal Server Error in 178ms (ActiveRecord: 0.7ms | Allocations: 7907)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: users.manager_id):
  
app/controllers/users_controller.rb:13:in `employees_by_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:10:55 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.1ms | Allocations: 2458)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x0000000004a8f8>
Did you mean?  authorize!
               authorized?):
  
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:11:16 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kimms@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.4ms | Allocations: 3041)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:11:32 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 330ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 933)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:12:01 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 677)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:12:05 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kism@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kism@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 676)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:12:08 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 676)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started GET "/users" for 127.0.0.1 at 2023-09-18 16:12:59 +0300
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:13:03 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 739)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:13:14 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 677)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:13:23 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007ff5cc0c63a8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:34:in `create_manager'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kissm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:34:in `create_manager'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "kissm@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:13:23.831566"], ["updated_at", "2023-09-18 13:13:23.831566"]]
  â†³ app/controllers/users_controller.rb:34:in `create_manager'
  [1m[36mTRANSACTION (102.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:34:in `create_manager'
Completed 201 Created in 450ms (Views: 0.5ms | ActiveRecord: 104.8ms | Allocations: 6118)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:13:47 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5c8024b38>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:46:in `create_employee'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kissm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:46:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:46:in `create_employee'
Completed 422 Unprocessable Entity in 773ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 609494)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:15:18 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5c81d59c8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kissm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kissm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
Completed 422 Unprocessable Entity in 336ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 5729)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:15:23 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5c84180f0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kiszsm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "kiszsm@ceo.truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:15:23.581578"], ["updated_at", "2023-09-18 13:15:23.581578"]]
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
  [1m[36mTRANSACTION (104.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:51:in `create_employee'
Completed 201 Created in 437ms (Views: 0.4ms | ActiveRecord: 104.8ms | Allocations: 3478)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:15:47 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 674)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:16:35 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.2ms | Allocations: 2925)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:32:in `create_manager'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:17:23 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.5ms | Allocations: 2925)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:49:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:22:53 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.7ms | Allocations: 2925)


  
JWT::VerificationError (Signature verification failed):
  
app/controllers/application_controller.rb:29:in `decoded_token'
app/controllers/application_controller.rb:25:in `current_user'
app/controllers/users_controller.rb:49:in `create_employee'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:23:24 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:15:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007ff5d93e3830>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:52:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kiszsm@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:52:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:52:in `create_employee'
Completed 422 Unprocessable Entity in 341ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 5668)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:27:08 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 728)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:26:in `authorized?'
app/controllers/application_controller.rb:20:in `authorize_request'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:28:02 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 837)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:26:in `authorized?'
app/controllers/application_controller.rb:20:in `authorize_request'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:29:15 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 730)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:26:in `authorized?'
app/controllers/application_controller.rb:20:in `authorize_request'
Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:30:24 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 727)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:26:in `authorized?'
app/controllers/application_controller.rb:20:in `authorize_request'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:30:48 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 728)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:26:in `authorized?'
app/controllers/application_controller.rb:20:in `authorize_request'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:31:50 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 729)


  
NoMethodError (undefined method `role' for nil:NilClass):
  
app/controllers/application_controller.rb:27:in `authorized?'
app/controllers/application_controller.rb:21:in `authorize_request'
Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:40:40 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 285)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:40:58 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 154)


Started GET "/user" for 127.0.0.1 at 2023-09-18 16:41:27 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kiszsm@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 155)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:41:43 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kim@ceo.truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 371ms (Views: 1.2ms | ActiveRecord: 0.8ms | Allocations: 37179)


Started GET "/user" for 127.0.0.1 at 2023-09-18 16:42:02 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"kim@ceo.truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 154)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (25.6ms)[0m  [1m[35mDROP TABLE "employees"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (152.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "ceos"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (149.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (138.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "role" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (135.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (153.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (177.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 16:44:33 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f738c49df20>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "CEO"], ["email", "ceo@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:44:34.425192"], ["updated_at", "2023-09-18 13:44:34.425192"]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mTRANSACTION (110.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
Completed 201 Created in 514ms (Views: 0.6ms | ActiveRecord: 112.4ms | Allocations: 41115)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:44:53 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 327ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 975)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:45:05 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 325ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 770)


Started GET "/user" for 127.0.0.1 at 2023-09-18 16:45:16 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 166)


Started GET "/user" for 127.0.0.1 at 2023-09-18 16:46:24 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 2.1ms | Allocations: 4679)


  
NoMethodError (undefined method `authorized?' for #<UsersController:0x0000000000cc38>
Did you mean?  authorize!):
  
app/controllers/application_controller.rb:22:in `authorize_request'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:47:54 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.2ms | Allocations: 2434)


  
NoMethodError (undefined method `authorized?' for #<UsersController:0x0000000000cd00>
Did you mean?  authorize!):
  
app/controllers/application_controller.rb:22:in `authorize_request'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:48:52 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.9ms | Allocations: 4692)


  
NoMethodError (undefined method `authorize?' for #<UsersController:0x000000000106a8>
Did you mean?  authorize!):
  
app/controllers/application_controller.rb:22:in `authorize_request'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:49:03 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 2.1ms | Allocations: 2962)


  
ArgumentError (wrong number of arguments (given 0, expected 2+)):
  
app/controllers/application_controller.rb:22:in `authorize_request'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:50:03 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 4.4ms | Allocations: 4680)


  
NoMethodError (undefined method `authorized?' for #<UsersController:0x00000000017ae8>
Did you mean?  authorize!):
  
app/controllers/application_controller.rb:22:in `authorize_request'
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:52:16 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 13ms (Views: 0.9ms | ActiveRecord: 1.6ms | Allocations: 3008)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 16:53:06 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f738ce40960>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:53:07.415758"], ["updated_at", "2023-09-18 13:53:07.415758"]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (104.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 459ms (Views: 0.6ms | ActiveRecord: 107.7ms | Allocations: 6130)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:53:22 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 611)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 16:56:13 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 328ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 921)


Started POST "/user" for 127.0.0.1 at 2023-09-18 16:56:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/user"):
  
Started GET "/user" for 127.0.0.1 at 2023-09-18 16:56:37 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 742)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 16:56:59 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f7374680ff8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "emp@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 13:56:59.457880"], ["updated_at", "2023-09-18 13:56:59.457880"]]
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
  [1m[36mTRANSACTION (89.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
Completed 201 Created in 425ms (Views: 1.0ms | ActiveRecord: 90.1ms | Allocations: 3416)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddManagerAndCeoToUsers (20230918140328)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at" FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at" FROM "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddManagerAndCeoToUsers (20230918140328)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "manager_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "ausers"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "ceo_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_ceo_id" ON "ausers" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL, CONSTRAINT "fk_rails_5c21d1e372"
FOREIGN KEY ("ceo_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918140328"]]
  [1m[36mTRANSACTION (156.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/employees" for 127.0.0.1 at 2023-09-18 17:09:31 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f737cbc9778>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:55:in `create_employee'
Completed 422 Unprocessable Entity in 653ms (Views: 0.4ms | ActiveRecord: 0.8ms | Allocations: 612059)


  [1m[35m (123.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (118.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "role" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (110.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (104.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (158.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddManagerAndCeoToUsers (20230918140328)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "manager_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "ausers"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "ceo_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_ceo_id" ON "ausers" ("ceo_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL, CONSTRAINT "fk_rails_5c21d1e372"
FOREIGN KEY ("ceo_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918140328"]]
  [1m[36mTRANSACTION (146.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-09-18 14:09:54.814047"], ["updated_at", "2023-09-18 14:09:54.814047"]]
  [1m[36mTRANSACTION (88.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/ceos" for 127.0.0.1 at 2023-09-18 17:10:21 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f73700ef5e8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "CEO"], ["email", "ceo@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:10:21.597923"], ["updated_at", "2023-09-18 14:10:21.597923"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mTRANSACTION (190.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
Completed 201 Created in 537ms (Views: 0.8ms | ActiveRecord: 192.4ms | Allocations: 18140)


Started GET "/user" for 127.0.0.1 at 2023-09-18 17:10:54 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 155)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:11:17 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 331ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 955)


Started GET "/user" for 127.0.0.1 at 2023-09-18 17:11:37 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 901)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:12:03 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f737416a000>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:12:03.391690"], ["updated_at", "2023-09-18 14:12:03.391690"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (139.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 478ms (Views: 0.5ms | ActiveRecord: 140.8ms | Allocations: 3451)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddManagerAndCeoToUsers (20230918140328)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_ceo_id" ON "ausers" ("ceo_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_ceo_id" ON "ausers" ("ceo_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
 ON DELETE SET NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "ausers"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918140328"]]
  [1m[36mTRANSACTION (128.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "employees"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (99.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "ceos"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (104.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (82.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230916110459)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "role" varchar, "email" varchar, "password_digest" varchar, "reset_password_token" varchar, "reset_password_token_expires_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230916110459"]]
  [1m[36mTRANSACTION (96.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCeos (20230918093922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ceos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918093922"]]
  [1m[36mTRANSACTION (108.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20230918105854)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918105854"]]
  [1m[36mTRANSACTION (83.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddManagerAndCeoToUsers (20230918140328)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "manager_id" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "ceo_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ausers" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_ceo_id" ON "ausers" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ausers_on_manager_id" ON "ausers" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ausers" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer NOT NULL PRIMARY KEY, "firstname" varchar DEFAULT NULL, "lastname" varchar DEFAULT NULL, "role" varchar DEFAULT NULL, "email" varchar DEFAULT NULL, "password_digest" varchar DEFAULT NULL, "reset_password_token" varchar DEFAULT NULL, "reset_password_token_expires_at" datetime(6) DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "manager_id" integer DEFAULT NULL, "ceo_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_cc166f32f0"
FOREIGN KEY ("manager_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_5c21d1e372"
FOREIGN KEY ("ceo_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_manager_id" ON "users" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_ceo_id" ON "users" ("ceo_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "users" ("id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id")
                     SELECT "id","firstname","lastname","role","email","password_digest","reset_password_token","reset_password_token_expires_at","created_at","updated_at","manager_id","ceo_id" FROM "ausers"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ausers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230918140328"]]
  [1m[36mTRANSACTION (111.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:14:20 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Filter chain halted as :authorize_request rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 791)


Started POST "/ceos" for 127.0.0.1 at 2023-09-18 17:14:40 +0300
Processing by UsersController#create_ceo as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_ceo, request: #<ActionDispatch::Request:0x00007f737842ab88>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_ceo", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "CEO"], ["email", "ceo@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:14:41.209921"], ["updated_at", "2023-09-18 14:14:41.209921"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
  [1m[36mTRANSACTION (88.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:22:in `create_ceo'
Completed 201 Created in 428ms (Views: 0.6ms | ActiveRecord: 89.5ms | Allocations: 5867)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:14:58 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 331ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 947)


Started GET "/user" for 127.0.0.1 at 2023-09-18 17:15:16 +0300
Processing by UsersController#index as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 753)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:15:35 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f737025c890>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:15:35.510797"], ["updated_at", "2023-09-18 14:15:35.510797"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (121.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 455ms (Views: 0.4ms | ActiveRecord: 122.1ms | Allocations: 3452)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:19:27 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f73742c8028>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man1@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man1@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:19:28.070762"], ["updated_at", "2023-09-18 14:19:28.070762"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (142.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 484ms (Views: 0.5ms | ActiveRecord: 144.9ms | Allocations: 6581)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:21:35 +0300
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man2@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f737d397a68>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man2@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man2@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man2@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:21:36.327166"], ["updated_at", "2023-09-18 14:21:36.327166"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (323.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 668ms (Views: 0.9ms | ActiveRecord: 325.8ms | Allocations: 6581)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:23:23 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man3@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man3@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007fd5484a3a10>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man3@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man3@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man3@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man3@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:23:24.274994"], ["updated_at", "2023-09-18 14:23:24.274994"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
  [1m[36mTRANSACTION (325.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:39:in `create_manager'
Completed 201 Created in 723ms (Views: 0.8ms | ActiveRecord: 327.8ms | Allocations: 42865)


Started POST "/managers" for 127.0.0.1 at 2023-09-18 17:27:19 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create_manager as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f950041fcc0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com"}} }[0m
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_manager, request: #<ActionDispatch::Request:0x00007f950041fcc0>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_manager", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:49:in `create_manager'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man4@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:49:in `create_manager'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Manager"], ["email", "man4@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:27:21.355892"], ["updated_at", "2023-09-18 14:27:21.355892"], ["manager_id", nil], ["ceo_id", 1]]
  â†³ app/controllers/users_controller.rb:49:in `create_manager'
  [1m[36mTRANSACTION (342.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:49:in `create_manager'
Completed 201 Created in 787ms (Views: 1.2ms | ActiveRecord: 344.1ms | Allocations: 43042)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:28:49 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"man4@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "man4@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 326ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 960)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 17:29:50 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f9500ca0e80>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}} }[0m
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f9500ca0e80>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:75:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:75:in `create_employee'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "emp@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:29:50.816931"], ["updated_at", "2023-09-18 14:29:50.816931"], ["manager_id", nil], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:75:in `create_employee'
  [1m[36mTRANSACTION (113.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:75:in `create_employee'
Completed 201 Created in 450ms (Views: 0.5ms | ActiveRecord: 113.9ms | Allocations: 3647)


Started POST "/employees" for 127.0.0.1 at 2023-09-18 17:30:55 +0300
Processing by UsersController#create_employee as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16:in `authorize_request'
[31mUnpermitted parameter: :user. Context: { controller: UsersController, action: create_employee, request: #<ActionDispatch::Request:0x00007f94f09d7178>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"create_employee", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:63:in `create_employee'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:63:in `create_employee'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "role", "email", "password_digest", "reset_password_token", "reset_password_token_expires_at", "created_at", "updated_at", "manager_id", "ceo_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Kelvin"], ["lastname", "kirui"], ["role", "Employee"], ["email", "emp1@truth.com"], ["password_digest", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["created_at", "2023-09-18 14:30:55.564036"], ["updated_at", "2023-09-18 14:30:55.564036"], ["manager_id", 6], ["ceo_id", nil]]
  â†³ app/controllers/users_controller.rb:63:in `create_employee'
  [1m[36mTRANSACTION (105.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:63:in `create_employee'
Completed 201 Created in 451ms (Views: 0.8ms | ActiveRecord: 108.3ms | Allocations: 6631)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:32:57 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:32:57.806771"], ["id", 8]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (154.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 166ms (Views: 0.2ms | ActiveRecord: 155.3ms | Allocations: 3259)


Started POST "/reset_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:33:31 +0300
  
ActionController::RoutingError (No route matches [POST] "/reset_password/4YQ5Z_0mBTRcshd_rjKUSA"):
  
Started PUT "/reset_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:33:51 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 888ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 609682)


Started PUT "/reset_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:34:05 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 338ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2915)


Started PUT "/reset_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:35:51 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 333ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2916)


Started PUT "/update_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:36:06 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 353ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2914)


Started PUT "/update_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:36:18 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 336ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2913)


Started PUT "/update_password/4YQ5Z_0mBTRcshd_rjKUSA" for 127.0.0.1 at 2023-09-18 17:36:31 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 329ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2916)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:37:06 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:37:06.729357"], ["id", 8]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (85.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 94ms (Views: 0.4ms | ActiveRecord: 85.9ms | Allocations: 3042)


Started PUT "/update_password/2OuB22tQLcI5jf_4PiZtyw" for 127.0.0.1 at 2023-09-18 17:37:31 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 332ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 2913)


Started PUT "/update_password/2OuB22tQLcI5jf_4PiZtyw" for 127.0.0.1 at 2023-09-18 17:38:37 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 332ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2913)


Started PUT "/update_password/2OuB22tQLcI5jf_4PiZtyw" for 127.0.0.1 at 2023-09-18 17:38:53 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 356ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 6023)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:39:32 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:39:32.680066"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (117.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 128ms (Views: 0.2ms | ActiveRecord: 118.0ms | Allocations: 3232)


Started PUT "/reset_password/9XpkVaEpO-W9bB0BReRkhA" for 127.0.0.1 at 2023-09-18 17:40:02 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 336ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2913)


Started PUT "/reset_password/9XpkVaEpO-W9bB0BReRkhA" for 127.0.0.1 at 2023-09-18 17:41:02 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 341ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 5964)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:41:30 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:41:30.787031"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (86.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 145ms (Views: 0.4ms | ActiveRecord: 88.5ms | Allocations: 42348)


Started PUT "/reset_password/cpWUj0YAAcyACWu9O1CjZA" for 127.0.0.1 at 2023-09-18 17:41:47 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 711ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 609793)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:42:05 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 327ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 600)


Started PATCH "/reset_password/cpWUj0YAAcyACWu9O1CjZA" for 127.0.0.1 at 2023-09-18 17:43:38 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/reset_password/cpWUj0YAAcyACWu9O1CjZA"):
  
Started PUT "/reset_password/cpWUj0YAAcyACWu9O1CjZA" for 127.0.0.1 at 2023-09-18 17:43:41 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 334ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2914)


Started PUT "/reset_password/cpWUj0YAAcyACWu9O1CjZA" for 127.0.0.1 at 2023-09-18 17:45:07 +0300
Processing by UsersController#update_password as */*
  Parameters: {"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 334ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2937)


Started PUT "/reset_password/cpWUj0YAAcyACWu9O1CjZA" for 127.0.0.1 at 2023-09-18 17:48:08 +0300
Processing by UsersController#update_password as */*
  Parameters: {"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 340ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 6023)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:48:28 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#reset_password as */*
  Parameters: {"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
Completed 404 Not Found in 16ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 21196)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:48:38 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:48:38.124832"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (129.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 161ms (Views: 0.2ms | ActiveRecord: 130.7ms | Allocations: 21843)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:48:56 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 719ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 609776)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:49:05 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 335ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2934)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:51:15 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 357ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 2935)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:51:26 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 343ms (Views: 0.4ms | ActiveRecord: 1.8ms | Allocations: 6024)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:53:02 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
[31mUnpermitted parameters: :firstname, :lastname, :email, :reset_password_token, :user. Context: { controller: UsersController, action: update_password, request: #<ActionDispatch::Request:0x00007f5e6411c2f8>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"update_password", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-09-18 14:53:02.425864"], ["id", 1]]
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mTRANSACTION (105.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:91:in `update_password'
Completed 200 OK in 448ms (Views: 0.2ms | ActiveRecord: 107.6ms | Allocations: 6387)


Started PUT "/reset_password/2UrSNWwwubxlS4XtcoLO_Q" for 127.0.0.1 at 2023-09-18 17:53:24 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:90:in `update_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:90:in `update_password'
Completed 422 Unprocessable Entity in 339ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 5967)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:53:55 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 344ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 9242)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:54:08 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"ceo@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ceo@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 329ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 871)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:54:23 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp2@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 508)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:54:29 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp2@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp2@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 508)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:54:36 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 331ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 795)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:54:47 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 401 Unauthorized in 327ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 553)


Started POST "/reset_password" for 127.0.0.1 at 2023-09-18 17:55:04 +0300
Processing by UsersController#reset_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:74:in `reset_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "reset_password_token" = ?, "reset_password_token_expires_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_password_token", "[FILTERED]"], ["reset_password_token_expires_at", "[FILTERED]"], ["updated_at", "2023-09-18 14:55:04.559073"], ["id", 8]]
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
  [1m[36mTRANSACTION (101.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:77:in `reset_password'
Completed 200 OK in 112ms (Views: 0.2ms | ActiveRecord: 102.3ms | Allocations: 3527)


Started PUT "/reset_password/0gW189lFdSYoRxs6qiYpqQ" for 127.0.0.1 at 2023-09-18 17:55:16 +0300
Processing by UsersController#update_password as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."reset_password_token" = ? LIMIT ?[0m  [["reset_password_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:88:in `update_password'
[31mUnpermitted parameters: :firstname, :lastname, :email, :reset_password_token, :user. Context: { controller: UsersController, action: update_password, request: #<ActionDispatch::Request:0x00007f5e58058580>, params: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"users", "action"=>"update_password", "reset_password_token"=>"[FILTERED]", "user"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-09-18 14:55:17.149527"], ["id", 8]]
  â†³ app/controllers/users_controller.rb:91:in `update_password'
  [1m[36mTRANSACTION (125.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:91:in `update_password'
Completed 200 OK in 466ms (Views: 0.3ms | ActiveRecord: 126.1ms | Allocations: 3420)


Started POST "/users/login" for 127.0.0.1 at 2023-09-18 17:55:29 +0300
Processing by AuthenticationController#login as */*
  Parameters: {"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "authentication"=>{"firstname"=>"Kelvin", "lastname"=>"kirui", "email"=>"emp1@truth.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "emp1@truth.com"], ["LIMIT", 1]]
  â†³ app/controllers/authentication_controller.rb:4:in `login'
Completed 200 OK in 325ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 795)


